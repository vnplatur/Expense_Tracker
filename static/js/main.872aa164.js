/*! For license information please see main.872aa164.js.LICENSE.txt */
(()=>{"use strict";var e={730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),I=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var V,j=Object.assign;function $(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var q=!1;function H(e,t){if(!e||q)return"";q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(rn){var r=rn}Reflect.construct(e,[],t)}else{try{t.call()}catch(rn){r=rn}e.call(t.prototype)}else{try{throw Error()}catch(rn){r=rn}e()}}catch(rn){if(rn&&r&&"string"===typeof rn.stack){for(var i=rn.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$(e):""}function K(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 1:return e=H(e.type,!0);default:return""}}function Q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case S:return"Portal";case _:return"Profiler";case k:return"StrictMode";case N:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:Q(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return Q(e(t))}catch(n){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function X(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ee(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(W){return e.body}}function ne(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function re(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=X(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ie(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function se(e,t){ie(e,t);var n=X(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?le(e,t.type,n):t.hasOwnProperty("defaultValue")&&le(e,t.type,X(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ae(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function le(e,t,n){"number"===t&&ee(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ue=Array.isArray;function ce(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+X(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function he(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function de(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(ue(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:X(n)}}function fe(e,t){var n=X(t.value),r=X(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function pe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function me(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ge(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?me(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ye,ve,be=(ve=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ye=ye||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ye.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function we(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ee={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Se=["Webkit","ms","Moz","O"];function Te(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Ee.hasOwnProperty(e)&&Ee[e]?(""+t).trim():t+"px"}function ke(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Te(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Ee).forEach((function(e){Se.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ee[t]=Ee[e]}))}));var _e=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ce(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function Ne(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var De=null,Ae=null,Le=null;function Re(e){if(e=Di(e)){if("function"!==typeof De)throw Error(s(280));var t=e.stateNode;t&&(t=Li(t),De(e.stateNode,e.type,t))}}function Oe(e){Ae?Le?Le.push(e):Le=[e]:Ae=e}function Pe(){if(Ae){var e=Ae,t=Le;if(Le=Ae=null,Re(e),t)for(e=0;e<t.length;e++)Re(t[e])}}function Me(e,t){return e(t)}function Fe(){}var Ve=!1;function Ue(e,t,n){if(Ve)return e(t,n);Ve=!0;try{return Me(e,t,n)}finally{Ve=!1,(null!==Ae||null!==Le)&&(Fe(),Pe())}}function ze(e,t){var n=e.stateNode;if(null===n)return null;var r=Li(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Be=!1;if(c)try{var je={};Object.defineProperty(je,"passive",{get:function(){Be=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch(ve){Be=!1}function $e(e,t,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(U){this.onError(U)}}var qe=!1,He=null,Ke=!1,Qe=null,We={onError:function(e){qe=!0,He=e}};function Ge(e,t,n,r,i,s,a,o,l){qe=!1,He=null,$e.apply(We,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Xe(e)!==e)throw Error(s(188))}function Ze(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?et(e):null}function et(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=et(e);if(null!==t)return t;e=e.sibling}return null}var tt=i.unstable_scheduleCallback,nt=i.unstable_cancelCallback,rt=i.unstable_shouldYield,it=i.unstable_requestPaint,st=i.unstable_now,at=i.unstable_getCurrentPriorityLevel,ot=i.unstable_ImmediatePriority,lt=i.unstable_UserBlockingPriority,ut=i.unstable_NormalPriority,ct=i.unstable_LowPriority,ht=i.unstable_IdlePriority,dt=null,ft=null;var pt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(mt(e)/gt|0)|0},mt=Math.log,gt=Math.LN2;var yt=64,vt=4194304;function bt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=bt(o):0!==(s&=a)&&(r=bt(s))}else 0!==(a=n&~i)?r=bt(a):0!==s&&(r=bt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-pt(t)),r|=e[n],t&=~i;return r}function Et(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function St(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Tt(){var e=yt;return 0===(4194240&(yt<<=1))&&(yt=64),e}function kt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _t(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-pt(t)]=n}function Ct(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var It=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Nt,Dt,At,Lt,Rt,Ot=!1,Pt=[],Mt=null,Ft=null,Vt=null,Ut=new Map,zt=new Map,Bt=[],jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $t(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Ft=null;break;case"mouseover":case"mouseout":Vt=null;break;case"pointerover":case"pointerout":Ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zt.delete(t.pointerId)}}function qt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Di(t))&&Dt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ht(e){var t=Ni(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void Rt(e.priority,(function(){At(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Kt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Di(n))&&Dt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Qt(e,t,n){Kt(e)&&n.delete(t)}function Wt(){Ot=!1,null!==Mt&&Kt(Mt)&&(Mt=null),null!==Ft&&Kt(Ft)&&(Ft=null),null!==Vt&&Kt(Vt)&&(Vt=null),Ut.forEach(Qt),zt.forEach(Qt)}function Gt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ot||(Ot=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Wt)))}function Xt(e){function t(t){return Gt(t,e)}if(0<Pt.length){Gt(Pt[0],e);for(var n=1;n<Pt.length;n++){var r=Pt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Mt&&Gt(Mt,e),null!==Ft&&Gt(Ft,e),null!==Vt&&Gt(Vt,e),Ut.forEach(t),zt.forEach(t),n=0;n<Bt.length;n++)(r=Bt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Bt.length&&null===(n=Bt[0]).blockedOn;)Ht(n),null===n.blockedOn&&Bt.shift()}var Yt=w.ReactCurrentBatchConfig,Jt=!0;function Zt(e,t,n,r){var i=It,s=Yt.transition;Yt.transition=null;try{It=1,tn(e,t,n,r)}finally{It=i,Yt.transition=s}}function en(e,t,n,r){var i=It,s=Yt.transition;Yt.transition=null;try{It=4,tn(e,t,n,r)}finally{It=i,Yt.transition=s}}function tn(e,t,n,r){if(Jt){var i=sn(e,t,n,r);if(null===i)ti(e,t,r,nn,n),$t(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Mt=qt(Mt,e,t,n,r,i),!0;case"dragenter":return Ft=qt(Ft,e,t,n,r,i),!0;case"mouseover":return Vt=qt(Vt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ut.set(s,qt(Ut.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,zt.set(s,qt(zt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if($t(e,r),4&t&&-1<jt.indexOf(e)){for(;null!==i;){var s=Di(i);if(null!==s&&Nt(s),null===(s=sn(e,t,n,r))&&ti(e,t,r,nn,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else ti(e,t,r,null,n)}}var nn=null;function sn(e,t,n,r){if(nn=null,null!==(e=Ni(e=Ne(r))))if(null===(t=Xe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ye(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return nn=e,null}function an(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(at()){case ot:return 1;case lt:return 4;case ut:case ct:return 16;case ht:return 536870912;default:return 16}default:return 16}}var on=null,ln=null,un=null;function cn(){if(un)return un;var e,t,n=ln,r=n.length,i="value"in on?on.value:on.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return un=i.slice(e,1<t?1-t:void 0)}function hn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function dn(){return!0}function fn(){return!1}function mn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?dn:fn,this.isPropagationStopped=fn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=dn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=dn)},persist:function(){},isPersistent:dn}),t}var gn,yn,bn,wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},En=mn(wn),Sn=j({},wn,{view:0,detail:0}),Tn=mn(Sn),kn=j({},Sn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bn&&(bn&&"mousemove"===e.type?(gn=e.screenX-bn.screenX,yn=e.screenY-bn.screenY):yn=gn=0,bn=e),gn)},movementY:function(e){return"movementY"in e?e.movementY:yn}}),_n=mn(kn),Cn=mn(j({},kn,{dataTransfer:0})),In=mn(j({},Sn,{relatedTarget:0})),xn=mn(j({},wn,{animationName:0,elapsedTime:0,pseudoElement:0})),Nn=j({},wn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dn=mn(Nn),An=mn(j({},wn,{data:0})),Ln={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},On={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=On[e])&&!!t[e]}function Mn(){return Pn}var Fn=j({},Sn,{key:function(e){if(e.key){var t=Ln[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=hn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Rn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mn,charCode:function(e){return"keypress"===e.type?hn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?hn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Vn=mn(Fn),Un=mn(j({},kn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),zn=mn(j({},Sn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mn})),Bn=mn(j({},wn,{propertyName:0,elapsedTime:0,pseudoElement:0})),jn=j({},kn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$n=mn(jn),qn=[9,13,27,32],Hn=c&&"CompositionEvent"in window,Kn=null;c&&"documentMode"in document&&(Kn=document.documentMode);var Qn=c&&"TextEvent"in window&&!Kn,Wn=c&&(!Hn||Kn&&8<Kn&&11>=Kn),Gn=String.fromCharCode(32),Xn=!1;function Yn(e,t){switch(e){case"keyup":return-1!==qn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Zn=!1;var er={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!er[e.type]:"textarea"===t}function nr(e,t,n,r){Oe(r),0<(t=ri(t,"onChange")).length&&(n=new En("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var rr=null,ir=null;function sr(e){Gr(e,0)}function ar(e){if(Z(Ai(e)))return e}function or(e,t){if("change"===e)return t}var lr=!1;if(c){var ur;if(c){var cr="oninput"in document;if(!cr){var hr=document.createElement("div");hr.setAttribute("oninput","return;"),cr="function"===typeof hr.oninput}ur=cr}else ur=!1;lr=ur&&(!document.documentMode||9<document.documentMode)}function dr(){rr&&(rr.detachEvent("onpropertychange",fr),ir=rr=null)}function fr(e){if("value"===e.propertyName&&ar(ir)){var t=[];nr(t,ir,e,Ne(e)),Ue(sr,t)}}function pr(e,t,n){"focusin"===e?(dr(),ir=n,(rr=t).attachEvent("onpropertychange",fr)):"focusout"===e&&dr()}function mr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ar(ir)}function gr(e,t){if("click"===e)return ar(t)}function yr(e,t){if("input"===e||"change"===e)return ar(t)}var vr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function br(e,t){if(vr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!vr(e[i],t[i]))return!1}return!0}function wr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Er(e,t){var n,r=wr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=wr(r)}}function Sr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Sr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Tr(){for(var e=window,t=ee();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(F){n=!1}if(!n)break;t=ee((e=t.contentWindow).document)}return t}function kr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function _r(e){var t=Tr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Sr(n.ownerDocument.documentElement,n)){if(null!==r&&kr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Er(n,s);var a=Er(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Cr=c&&"documentMode"in document&&11>=document.documentMode,Ir=null,xr=null,Nr=null,Dr=!1;function Ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Dr||null==Ir||Ir!==ee(r)||("selectionStart"in(r=Ir)&&kr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Nr&&br(Nr,r)||(Nr=r,0<(r=ri(xr,"onSelect")).length&&(t=new En("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ir)))}function Lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rr={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionend:Lr("Transition","TransitionEnd")},Or={},Pr={};function Mr(e){if(Or[e])return Or[e];if(!Rr[e])return e;var t,n=Rr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Pr)return Or[e]=n[t];return e}c&&(Pr=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);var Fr=Mr("animationend"),Vr=Mr("animationiteration"),Ur=Mr("animationstart"),zr=Mr("transitionend"),Br=new Map,jr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $r(e,t){Br.set(e,t),l(t,[e])}for(var qr=0;qr<jr.length;qr++){var Hr=jr[qr];$r(Hr.toLowerCase(),"on"+(Hr[0].toUpperCase()+Hr.slice(1)))}$r(Fr,"onAnimationEnd"),$r(Vr,"onAnimationIteration"),$r(Ur,"onAnimationStart"),$r("dblclick","onDoubleClick"),$r("focusin","onFocus"),$r("focusout","onBlur"),$r(zr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kr));function Wr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,u){if(Ge.apply(this,arguments),qe){if(!qe)throw Error(s(198));var c=He;qe=!1,He=null,Ke||(Ke=!0,Qe=c)}}(r,t,void 0,e),e.currentTarget=null}function Gr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Wr(i,o,u),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Wr(i,o,u),s=l}}}if(Ke)throw e=Qe,Ke=!1,Qe=null,e}function Xr(e,t){var n=t[Ci];void 0===n&&(n=t[Ci]=new Set);var r=e+"__bubble";n.has(r)||(ei(t,e,2,!1),n.add(r))}function Yr(e,t,n){var r=0;t&&(r|=4),ei(n,e,r,t)}var Jr="_reactListening"+Math.random().toString(36).slice(2);function Zr(e){if(!e[Jr]){e[Jr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Qr.has(t)||Yr(t,!1,e),Yr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Jr]||(t[Jr]=!0,Yr("selectionchange",!1,t))}}function ei(e,t,n,r){switch(an(t)){case 1:var i=Zt;break;case 4:i=en;break;default:i=tn}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ti(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=Ni(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Ue((function(){var r=s,i=Ne(n),a=[];e:{var o=Br.get(e);if(void 0!==o){var l=En,u=e;switch(e){case"keypress":if(0===hn(n))break e;case"keydown":case"keyup":l=Vn;break;case"focusin":u="focus",l=In;break;case"focusout":u="blur",l=In;break;case"beforeblur":case"afterblur":l=In;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=Cn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=zn;break;case Fr:case Vr:case Ur:l=xn;break;case zr:l=Bn;break;case"scroll":l=Tn;break;case"wheel":l=$n;break;case"copy":case"cut":case"paste":l=Dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Un}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==o?o+"Capture":null:o;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=ze(p,d))&&c.push(ni(p,m,f)))),h)break;p=p.return}0<c.length&&(o=new l(o,u,null,n,i),a.push({event:o,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===xe||!(u=n.relatedTarget||n.fromElement)||!Ni(u)&&!u[_i])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ni(u):null)&&(u!==(h=Xe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=_n,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Un,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:Ai(l),f=null==u?o:Ai(u),(o=new c(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,Ni(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,p=0,f=c=l;f;f=ii(f))p++;for(f=0,m=d;m;m=ii(m))f++;for(;0<p-f;)c=ii(c),p--;for(;0<f-p;)d=ii(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=ii(c),d=ii(d)}c=null}else c=null;null!==l&&si(a,o,l,c,!1),null!==u&&null!==h&&si(a,h,u,c,!0)}if("select"===(l=(o=r?Ai(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=or;else if(tr(o))if(lr)g=yr;else{g=mr;var y=pr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=gr);switch(g&&(g=g(e,r))?nr(a,g,n,i):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&le(o,"number",o.value)),y=r?Ai(r):window,e){case"focusin":(tr(y)||"true"===y.contentEditable)&&(Ir=y,xr=r,Nr=null);break;case"focusout":Nr=xr=Ir=null;break;case"mousedown":Dr=!0;break;case"contextmenu":case"mouseup":case"dragend":Dr=!1,Ar(a,n,i);break;case"selectionchange":if(Cr)break;case"keydown":case"keyup":Ar(a,n,i)}var v;if(Hn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Zn?Yn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Wn&&"ko"!==n.locale&&(Zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Zn&&(v=cn()):(ln="value"in(on=i)?on.value:on.textContent,Zn=!0)),0<(y=ri(r,b)).length&&(b=new An(b,e,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=Jn(n))&&(b.data=v))),(v=Qn?function(e,t){switch(e){case"compositionend":return Jn(t);case"keypress":return 32!==t.which?null:(Xn=!0,Gn);case"textInput":return(e=t.data)===Gn&&Xn?null:e;default:return null}}(e,n):function(e,t){if(Zn)return"compositionend"===e||!Hn&&Yn(e,t)?(e=cn(),un=ln=on=null,Zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=ri(r,"onBeforeInput")).length&&(i=new An("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Gr(a,t)}))}function ni(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ri(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=ze(e,n))&&r.unshift(ni(e,s,i)),null!=(s=ze(e,t))&&r.push(ni(e,s,i))),e=e.return}return r}function ii(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function si(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==u&&(o=u,i?null!=(l=ze(n,s))&&a.unshift(ni(n,l,o)):i||null!=(l=ze(n,s))&&a.push(ni(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var ai=/\r\n?/g,oi=/\u0000|\uFFFD/g;function li(e){return("string"===typeof e?e:""+e).replace(ai,"\n").replace(oi,"")}function ui(e,t,n){if(t=li(t),li(e)!==t&&n)throw Error(s(425))}function ci(){}var hi=null,di=null;function fi(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var pi="function"===typeof setTimeout?setTimeout:void 0,mi="function"===typeof clearTimeout?clearTimeout:void 0,gi="function"===typeof Promise?Promise:void 0,yi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof gi?function(e){return gi.resolve(null).then(e).catch(vi)}:pi;function vi(e){setTimeout((function(){throw e}))}function bi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Xt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Xt(t)}function wi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function Ei(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Si=Math.random().toString(36).slice(2),Ti="__reactFiber$"+Si,ki="__reactProps$"+Si,_i="__reactContainer$"+Si,Ci="__reactEvents$"+Si,Ii="__reactListeners$"+Si,xi="__reactHandles$"+Si;function Ni(e){var t=e[Ti];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_i]||n[Ti]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ei(e);null!==e;){if(n=e[Ti])return n;e=Ei(e)}return t}n=(e=n).parentNode}return null}function Di(e){return!(e=e[Ti]||e[_i])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ai(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Li(e){return e[ki]||null}var Ri=[],Oi=-1;function Pi(e){return{current:e}}function Mi(e){0>Oi||(e.current=Ri[Oi],Ri[Oi]=null,Oi--)}function Fi(e,t){Oi++,Ri[Oi]=e.current,e.current=t}var Vi={},Ui=Pi(Vi),zi=Pi(!1),Bi=Vi;function ji(e,t){var n=e.type.contextTypes;if(!n)return Vi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function $i(e){return null!==(e=e.childContextTypes)&&void 0!==e}function qi(){Mi(zi),Mi(Ui)}function Hi(e,t,n){if(Ui.current!==Vi)throw Error(s(168));Fi(Ui,t),Fi(zi,n)}function Ki(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,G(e)||"Unknown",i));return j({},n,r)}function Qi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vi,Bi=Ui.current,Fi(Ui,e),Fi(zi,zi.current),!0}function Wi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ki(e,t,Bi),r.__reactInternalMemoizedMergedChildContext=e,Mi(zi),Mi(Ui),Fi(Ui,e)):Mi(zi),Fi(zi,n)}var Gi=null,Xi=!1,Yi=!1;function Ji(e){null===Gi?Gi=[e]:Gi.push(e)}function Zi(){if(!Yi&&null!==Gi){Yi=!0;var e=0,t=It;try{var n=Gi;for(It=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Gi=null,Xi=!1}catch(i){throw null!==Gi&&(Gi=Gi.slice(e+1)),tt(ot,Zi),i}finally{It=t,Yi=!1}}return null}var es=[],ts=0,ns=null,rs=0,is=[],ss=0,as=null,os=1,ls="";function us(e,t){es[ts++]=rs,es[ts++]=ns,ns=e,rs=t}function cs(e,t,n){is[ss++]=os,is[ss++]=ls,is[ss++]=as,as=e;var r=os;e=ls;var i=32-pt(r)-1;r&=~(1<<i),n+=1;var s=32-pt(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,os=1<<32-pt(t)+i|n<<i|r,ls=s+e}else os=1<<s|n<<i|r,ls=e}function hs(e){null!==e.return&&(us(e,1),cs(e,1,0))}function ds(e){for(;e===ns;)ns=es[--ts],es[ts]=null,rs=es[--ts],es[ts]=null;for(;e===as;)as=is[--ss],is[ss]=null,ls=is[--ss],is[ss]=null,os=is[--ss],is[ss]=null}var fs=null,ps=null,ms=!1,gs=null;function ys(e,t){var n=$u(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function vs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,fs=e,ps=wi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,fs=e,ps=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==as?{id:os,overflow:ls}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=$u(18,null,null,0)).stateNode=t,n.return=e,e.child=n,fs=e,ps=null,!0);default:return!1}}function bs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ws(e){if(ms){var t=ps;if(t){var n=t;if(!vs(e,t)){if(bs(e))throw Error(s(418));t=wi(n.nextSibling);var r=fs;t&&vs(e,t)?ys(r,n):(e.flags=-4097&e.flags|2,ms=!1,fs=e)}}else{if(bs(e))throw Error(s(418));e.flags=-4097&e.flags|2,ms=!1,fs=e}}}function Es(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;fs=e}function Ss(e){if(e!==fs)return!1;if(!ms)return Es(e),ms=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!fi(e.type,e.memoizedProps)),t&&(t=ps)){if(bs(e))throw Ts(),Error(s(418));for(;t;)ys(e,t),t=wi(t.nextSibling)}if(Es(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ps=wi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ps=null}}else ps=fs?wi(e.stateNode.nextSibling):null;return!0}function Ts(){for(var e=ps;e;)e=wi(e.nextSibling)}function ks(){ps=fs=null,ms=!1}function _s(e){null===gs?gs=[e]:gs.push(e)}var Cs=w.ReactCurrentBatchConfig;function Is(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var xs=Pi(null),Ns=null,Ds=null,As=null;function Ls(){As=Ds=Ns=null}function Rs(e){var t=xs.current;Mi(xs),e._currentValue=t}function Os(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ps(e,t){Ns=e,As=Ds=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ao=!0),e.firstContext=null)}function Ms(e){var t=e._currentValue;if(As!==e)if(e={context:e,memoizedValue:t,next:null},null===Ds){if(null===Ns)throw Error(s(308));Ds=e,Ns.dependencies={lanes:0,firstContext:e}}else Ds=Ds.next=e;return t}var Fs=null;function Vs(e){null===Fs?Fs=[e]:Fs.push(e)}function Us(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Vs(t)):(n.next=i.next,i.next=n),t.interleaved=n,zs(e,r)}function zs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Bs=!1;function js(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $s(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&zl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,zs(e,n)}return null===(i=r.interleaved)?(t.next=t,Vs(r)):(t.next=i.next,i.next=t),r.interleaved=t,zs(e,n)}function Ks(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ct(e,n)}}function Qs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ws(e,t,n,r){var i=e.updateQueue;Bs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,u=l.next;l.next=null,null===a?s=u:a.next=u,a=l;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,c=u=l=null,o=s;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=j({},h,d);break e;case 2:Bs=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Wl|=a,e.lanes=a,e.memoizedState=h}}function Gs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Xs=(new r.Component).refs;function Ys(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Js={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=du(),i=fu(e),s=qs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Hs(e,s,i))&&(pu(t,e,i,r),Ks(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=du(),i=fu(e),s=qs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Hs(e,s,i))&&(pu(t,e,i,r),Ks(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=du(),r=fu(e),i=qs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Hs(e,i,r))&&(pu(t,e,r,n),Ks(t,e,r))}};function Zs(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!br(n,r)||!br(i,s))}function ea(e,t,n){var r=!1,i=Vi,s=t.contextType;return"object"===typeof s&&null!==s?s=Ms(s):(i=$i(t)?Bi:Ui.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?ji(e,i):Vi),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Js,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ta(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Js.enqueueReplaceState(t,t.state,null)}function na(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Xs,js(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ms(s):(s=$i(t)?Bi:Ui.current,i.context=ji(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Ys(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Js.enqueueReplaceState(i,i.state,null),Ws(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ra(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Xs&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ia(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sa(e){return(0,e._init)(e._payload)}function aa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Gu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===T?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===L&&sa(s)===t.type)?((r=i(t,n.props)).ref=ra(e,t,n),r.return=e,r):((r=Ku(n.type,n.key,n.props,null,e.mode,r)).ref=ra(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Gu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Ku(t.type,t.key,t.props,null,e.mode,n)).ref=ra(e,null,t),n.return=e,n;case S:return(t=Xu(t,e.mode,n)).return=e,t;case L:return d(e,(0,t._init)(t._payload),n)}if(ue(t)||M(t))return(t=Qu(t,e.mode,n,null)).return=e,t;ia(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?u(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null;case L:return f(e,t,(i=n._init)(n._payload),r)}if(ue(n)||M(n))return null!==i?null:h(e,t,n,r,null);ia(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case L:return p(e,t,n,(0,r._init)(r._payload),i)}if(ue(r)||M(r))return h(t,e=e.get(n)||null,r,i,null);ia(t,r)}return null}function m(i,s,o,l){for(var u=null,c=null,h=s,m=s=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,o[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),s=a(y,s,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===o.length)return n(i,h),ms&&us(i,m),u;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(s=a(h,s,m),null===c?u=h:c.sibling=h,c=h);return ms&&us(i,m),u}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=a(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),ms&&us(i,m),u}function g(i,o,l,u){var c=M(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===h?c=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),ms&&us(i,g),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,u))&&(o=a(v,o,g),null===h?c=v:h.sibling=v,h=v);return ms&&us(i,g),c}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=a(v,o,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),ms&&us(i,g),c}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===T&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case E:e:{for(var u=a.key,c=s;null!==c;){if(c.key===u){if((u=a.type)===T){if(7===c.tag){n(r,c.sibling),(s=i(c,a.props.children)).return=r,r=s;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===L&&sa(u)===c.type){n(r,c.sibling),(s=i(c,a.props)).ref=ra(r,c,a),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===T?((s=Qu(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Ku(a.type,a.key,a.props,null,r.mode,l)).ref=ra(r,s,a),l.return=r,r=l)}return o(r);case S:e:{for(c=a.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Xu(a,r.mode,l)).return=r,r=s}return o(r);case L:return e(r,s,(c=a._init)(a._payload),l)}if(ue(a))return m(r,s,a,l);if(M(a))return g(r,s,a,l);ia(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Gu(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var oa=aa(!0),la=aa(!1),ua={},ca=Pi(ua),ha=Pi(ua),da=Pi(ua);function fa(e){if(e===ua)throw Error(s(174));return e}function pa(e,t){switch(Fi(da,t),Fi(ha,e),Fi(ca,ua),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ge(null,"");break;default:t=ge(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Mi(ca),Fi(ca,t)}function ma(){Mi(ca),Mi(ha),Mi(da)}function ga(e){fa(da.current);var t=fa(ca.current),n=ge(t,e.type);t!==n&&(Fi(ha,e),Fi(ca,n))}function ya(e){ha.current===e&&(Mi(ca),Mi(ha))}var va=Pi(0);function ba(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wa=[];function Ea(){for(var e=0;e<wa.length;e++)wa[e]._workInProgressVersionPrimary=null;wa.length=0}var Sa=w.ReactCurrentDispatcher,Ta=w.ReactCurrentBatchConfig,ka=0,_a=null,Ca=null,Ia=null,xa=!1,Na=!1,Da=0,Aa=0;function La(){throw Error(s(321))}function Ra(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vr(e[n],t[n]))return!1;return!0}function Oa(e,t,n,r,i,a){if(ka=a,_a=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Sa.current=null===e||null===e.memoizedState?vo:bo,e=n(r,i),Na){a=0;do{if(Na=!1,Da=0,25<=a)throw Error(s(301));a+=1,Ia=Ca=null,t.updateQueue=null,Sa.current=wo,e=n(r,i)}while(Na)}if(Sa.current=yo,t=null!==Ca&&null!==Ca.next,ka=0,Ia=Ca=_a=null,xa=!1,t)throw Error(s(300));return e}function Pa(){var e=0!==Da;return Da=0,e}function Ma(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ia?_a.memoizedState=Ia=e:Ia=Ia.next=e,Ia}function Fa(){if(null===Ca){var e=_a.alternate;e=null!==e?e.memoizedState:null}else e=Ca.next;var t=null===Ia?_a.memoizedState:Ia.next;if(null!==t)Ia=t,Ca=e;else{if(null===e)throw Error(s(310));e={memoizedState:(Ca=e).memoizedState,baseState:Ca.baseState,baseQueue:Ca.baseQueue,queue:Ca.queue,next:null},null===Ia?_a.memoizedState=Ia=e:Ia=Ia.next=e}return Ia}function Va(e,t){return"function"===typeof t?t(e):t}function Ua(e){var t=Fa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=Ca,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,u=null,c=a;do{var h=c.lane;if((ka&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,o=r):u=u.next=d,_a.lanes|=h,Wl|=h}c=c.next}while(null!==c&&c!==a);null===u?o=r:u.next=l,vr(r,t.memoizedState)||(Ao=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,_a.lanes|=a,Wl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function za(e){var t=Fa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);vr(a,t.memoizedState)||(Ao=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ba(){}function ja(e,t){var n=_a,r=Fa(),i=t(),a=!vr(r.memoizedState,i);if(a&&(r.memoizedState=i,Ao=!0),r=r.queue,eo(Ha.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==Ia&&1&Ia.memoizedState.tag){if(n.flags|=2048,Ga(9,qa.bind(null,n,r,i,t),void 0,null),null===Bl)throw Error(s(349));0!==(30&ka)||$a(n,t,i)}return i}function $a(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=_a.updateQueue)?(t={lastEffect:null,stores:null},_a.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function qa(e,t,n,r){t.value=n,t.getSnapshot=r,Ka(t)&&Qa(e)}function Ha(e,t,n){return n((function(){Ka(t)&&Qa(e)}))}function Ka(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vr(e,n)}catch(F){return!0}}function Qa(e){var t=zs(e,1);null!==t&&pu(t,e,1,-1)}function Wa(e){var t=Ma();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:e},t.queue=e,e=e.dispatch=fo.bind(null,_a,e),[t.memoizedState,e]}function Ga(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=_a.updateQueue)?(t={lastEffect:null,stores:null},_a.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Xa(){return Fa().memoizedState}function Ya(e,t,n,r){var i=Ma();_a.flags|=e,i.memoizedState=Ga(1|t,n,void 0,void 0===r?null:r)}function Ja(e,t,n,r){var i=Fa();r=void 0===r?null:r;var s=void 0;if(null!==Ca){var a=Ca.memoizedState;if(s=a.destroy,null!==r&&Ra(r,a.deps))return void(i.memoizedState=Ga(t,n,s,r))}_a.flags|=e,i.memoizedState=Ga(1|t,n,s,r)}function Za(e,t){return Ya(8390656,8,e,t)}function eo(e,t){return Ja(2048,8,e,t)}function to(e,t){return Ja(4,2,e,t)}function no(e,t){return Ja(4,4,e,t)}function ro(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function io(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ja(4,4,ro.bind(null,t,e),n)}function so(){}function ao(e,t){var n=Fa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ra(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function oo(e,t){var n=Fa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ra(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function lo(e,t,n){return 0===(21&ka)?(e.baseState&&(e.baseState=!1,Ao=!0),e.memoizedState=n):(vr(n,t)||(n=Tt(),_a.lanes|=n,Wl|=n,e.baseState=!0),t)}function uo(e,t){var n=It;It=0!==n&&4>n?n:4,e(!0);var r=Ta.transition;Ta.transition={};try{e(!1),t()}finally{It=n,Ta.transition=r}}function co(){return Fa().memoizedState}function ho(e,t,n){var r=fu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},po(e))mo(t,n);else if(null!==(n=Us(e,t,n,r))){pu(n,e,r,du()),go(n,t,r)}}function fo(e,t,n){var r=fu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(po(e))mo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,vr(o,a)){var l=t.interleaved;return null===l?(i.next=i,Vs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(rn){}null!==(n=Us(e,t,i,r))&&(pu(n,e,r,i=du()),go(n,t,r))}}function po(e){var t=e.alternate;return e===_a||null!==t&&t===_a}function mo(e,t){Na=xa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function go(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ct(e,n)}}var yo={readContext:Ms,useCallback:La,useContext:La,useEffect:La,useImperativeHandle:La,useInsertionEffect:La,useLayoutEffect:La,useMemo:La,useReducer:La,useRef:La,useState:La,useDebugValue:La,useDeferredValue:La,useTransition:La,useMutableSource:La,useSyncExternalStore:La,useId:La,unstable_isNewReconciler:!1},vo={readContext:Ms,useCallback:function(e,t){return Ma().memoizedState=[e,void 0===t?null:t],e},useContext:Ms,useEffect:Za,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ya(4194308,4,ro.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ya(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ya(4,2,e,t)},useMemo:function(e,t){var n=Ma();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ma();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ho.bind(null,_a,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ma().memoizedState=e},useState:Wa,useDebugValue:so,useDeferredValue:function(e){return Ma().memoizedState=e},useTransition:function(){var e=Wa(!1),t=e[0];return e=uo.bind(null,e[1]),Ma().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=_a,i=Ma();if(ms){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Bl)throw Error(s(349));0!==(30&ka)||$a(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Za(Ha.bind(null,r,a,e),[e]),r.flags|=2048,Ga(9,qa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ma(),t=Bl.identifierPrefix;if(ms){var n=ls;t=":"+t+"R"+(n=(os&~(1<<32-pt(os)-1)).toString(32)+n),0<(n=Da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Aa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bo={readContext:Ms,useCallback:ao,useContext:Ms,useEffect:eo,useImperativeHandle:io,useInsertionEffect:to,useLayoutEffect:no,useMemo:oo,useReducer:Ua,useRef:Xa,useState:function(){return Ua(Va)},useDebugValue:so,useDeferredValue:function(e){return lo(Fa(),Ca.memoizedState,e)},useTransition:function(){return[Ua(Va)[0],Fa().memoizedState]},useMutableSource:Ba,useSyncExternalStore:ja,useId:co,unstable_isNewReconciler:!1},wo={readContext:Ms,useCallback:ao,useContext:Ms,useEffect:eo,useImperativeHandle:io,useInsertionEffect:to,useLayoutEffect:no,useMemo:oo,useReducer:za,useRef:Xa,useState:function(){return za(Va)},useDebugValue:so,useDeferredValue:function(e){var t=Fa();return null===Ca?t.memoizedState=e:lo(t,Ca.memoizedState,e)},useTransition:function(){return[za(Va)[0],Fa().memoizedState]},useMutableSource:Ba,useSyncExternalStore:ja,useId:co,unstable_isNewReconciler:!1};function Eo(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(z){i="\nError generating stack: "+z.message+"\n"+z.stack}return{value:e,source:t,stack:i,digest:null}}function So(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function To(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ko="function"===typeof WeakMap?WeakMap:Map;function _o(e,t,n){(n=qs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){nu||(nu=!0,ru=r),To(0,t)},n}function Co(e,t,n){(n=qs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){To(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){To(0,t),"function"!==typeof r&&(null===iu?iu=new Set([this]):iu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Io(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ko;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Fu.bind(null,e,t,n),t.then(e,e))}function xo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function No(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=qs(-1,1)).tag=2,Hs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Do=w.ReactCurrentOwner,Ao=!1;function Lo(e,t,n,r){t.child=null===e?la(t,null,n,r):oa(t,e.child,n,r)}function Ro(e,t,n,r,i){n=n.render;var s=t.ref;return Ps(t,i),r=Oa(e,t,n,r,s,i),n=Pa(),null===e||Ao?(ms&&n&&hs(t),t.flags|=1,Lo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,nl(e,t,i))}function Oo(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||qu(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ku(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Po(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:br)(a,r)&&e.ref===t.ref)return nl(e,t,i)}return t.flags|=1,(e=Hu(s,r)).ref=t.ref,e.return=t,t.child=e}function Po(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(br(s,r)&&e.ref===t.ref){if(Ao=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,nl(e,t,i);0!==(131072&e.flags)&&(Ao=!0)}}return Vo(e,t,n,r,i)}function Mo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fi(Hl,ql),ql|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fi(Hl,ql),ql|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Fi(Hl,ql),ql|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Fi(Hl,ql),ql|=r;return Lo(e,t,i,n),t.child}function Fo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Vo(e,t,n,r,i){var s=$i(n)?Bi:Ui.current;return s=ji(t,s),Ps(t,i),n=Oa(e,t,n,r,s,i),r=Pa(),null===e||Ao?(ms&&r&&hs(t),t.flags|=1,Lo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,nl(e,t,i))}function Uo(e,t,n,r,i){if($i(n)){var s=!0;Qi(t)}else s=!1;if(Ps(t,i),null===t.stateNode)tl(e,t),ea(t,n,r),na(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ms(u):u=ji(t,u=$i(n)?Bi:Ui.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==u)&&ta(t,a,r,u),Bs=!1;var d=t.memoizedState;a.state=d,Ws(t,r,a,i),l=t.memoizedState,o!==r||d!==l||zi.current||Bs?("function"===typeof c&&(Ys(t,n,c,r),l=t.memoizedState),(o=Bs||Zs(t,n,o,r,d,l,u))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,$s(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Is(t.type,o),a.props=u,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ms(l):l=ji(t,l=$i(n)?Bi:Ui.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&ta(t,a,r,l),Bs=!1,d=t.memoizedState,a.state=d,Ws(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||zi.current||Bs?("function"===typeof f&&(Ys(t,n,f,r),p=t.memoizedState),(u=Bs||Zs(t,n,u,r,d,p,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return zo(e,t,n,r,s,i)}function zo(e,t,n,r,i,s){Fo(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Wi(t,n,!1),nl(e,t,s);r=t.stateNode,Do.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=oa(t,e.child,null,s),t.child=oa(t,null,o,s)):Lo(e,t,o,s),t.memoizedState=r.state,i&&Wi(t,n,!0),t.child}function Bo(e){var t=e.stateNode;t.pendingContext?Hi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Hi(0,t.context,!1),pa(e,t.containerInfo)}function jo(e,t,n,r,i){return ks(),_s(i),t.flags|=256,Lo(e,t,n,r),t.child}var $o,qo,Ho,Ko,Qo={dehydrated:null,treeContext:null,retryLane:0};function Wo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Go(e,t,n){var r,i=t.pendingProps,a=va.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Fi(va,1&a),null===e)return ws(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Wu(l,i,0,null),e=Qu(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Wo(n),t.memoizedState=Qo,e):Xo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Yo(e,t,o,r=So(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Wu({mode:"visible",children:r.children},i,0,null),(a=Qu(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&oa(t,e.child,null,o),t.child.memoizedState=Wo(o),t.memoizedState=Qo,a);if(0===(1&t.mode))return Yo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Yo(e,t,o,r=So(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),Ao||l){if(null!==(r=Bl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,zs(e,i),pu(r,e,i,-1))}return Iu(),Yo(e,t,o,r=So(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Uu.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ps=wi(i.nextSibling),fs=t,ms=!0,gs=null,null!==e&&(is[ss++]=os,is[ss++]=ls,is[ss++]=as,os=e.id,ls=e.overflow,as=t),t=Xo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Hu(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Hu(r,o):(o=Qu(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Wo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Qo,i}return e=(o=e.child).sibling,i=Hu(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Xo(e,t){return(t=Wu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Yo(e,t,n,r){return null!==r&&_s(r),oa(t,e.child,null,n),(e=Xo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Jo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Os(e.return,t,n)}function Zo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function el(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Lo(e,t,r.children,n),0!==(2&(r=va.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Jo(e,n,t);else if(19===e.tag)Jo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Fi(va,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ba(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Zo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ba(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zo(t,!0,n,null,s);break;case"together":Zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function tl(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function nl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Wl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Hu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function rl(e,t){if(!ms)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function il(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function sl(e,t,n){var r=t.pendingProps;switch(ds(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return il(t),null;case 1:case 17:return $i(t.type)&&qi(),il(t),null;case 3:return r=t.stateNode,ma(),Mi(zi),Mi(Ui),Ea(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ss(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==gs&&(vu(gs),gs=null))),qo(e,t),il(t),null;case 5:ya(t);var i=fa(da.current);if(n=t.type,null!==e&&null!=t.stateNode)Ho(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return il(t),null}if(e=fa(ca.current),Ss(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Ti]=t,r[ki]=a,e=0!==(1&t.mode),n){case"dialog":Xr("cancel",r),Xr("close",r);break;case"iframe":case"object":case"embed":Xr("load",r);break;case"video":case"audio":for(i=0;i<Kr.length;i++)Xr(Kr[i],r);break;case"source":Xr("error",r);break;case"img":case"image":case"link":Xr("error",r),Xr("load",r);break;case"details":Xr("toggle",r);break;case"input":re(r,a),Xr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Xr("invalid",r);break;case"textarea":de(r,a),Xr("invalid",r)}for(var l in Ce(n,a),i=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&ui(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&ui(r.textContent,u,e),i=["children",""+u]):o.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Xr("scroll",r)}switch(n){case"input":J(r),ae(r,a,!0);break;case"textarea":J(r),pe(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=ci)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=me(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Ti]=t,e[ki]=r,$o(e,t,!1,!1),t.stateNode=e;e:{switch(l=Ie(n,r),n){case"dialog":Xr("cancel",e),Xr("close",e),i=r;break;case"iframe":case"object":case"embed":Xr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Kr.length;i++)Xr(Kr[i],e);i=r;break;case"source":Xr("error",e),i=r;break;case"img":case"image":case"link":Xr("error",e),Xr("load",e),i=r;break;case"details":Xr("toggle",e),i=r;break;case"input":re(e,r),i=ne(e,r),Xr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Xr("invalid",e);break;case"textarea":de(e,r),i=he(e,r),Xr("invalid",e)}for(a in Ce(n,i),u=i)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?ke(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&be(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&we(e,c):"number"===typeof c&&we(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Xr("scroll",e):null!=c&&b(e,a,c,l))}switch(n){case"input":J(e),ae(e,r,!1);break;case"textarea":J(e),pe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+X(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ce(e,!!r.multiple,a,!1):null!=r.defaultValue&&ce(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=ci)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return il(t),null;case 6:if(e&&null!=t.stateNode)Ko(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=fa(da.current),fa(ca.current),Ss(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ti]=t,(a=r.nodeValue!==n)&&null!==(e=fs))switch(e.tag){case 3:ui(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ui(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Ti]=t,t.stateNode=r}return il(t),null;case 13:if(Mi(va),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ms&&null!==ps&&0!==(1&t.mode)&&0===(128&t.flags))Ts(),ks(),t.flags|=98560,a=!1;else if(a=Ss(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[Ti]=t}else ks(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;il(t),a=!1}else null!==gs&&(vu(gs),gs=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&va.current)?0===Kl&&(Kl=3):Iu())),null!==t.updateQueue&&(t.flags|=4),il(t),null);case 4:return ma(),qo(e,t),null===e&&Zr(t.stateNode.containerInfo),il(t),null;case 10:return Rs(t.type._context),il(t),null;case 19:if(Mi(va),null===(a=t.memoizedState))return il(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)rl(a,!1);else{if(0!==Kl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ba(e))){for(t.flags|=128,rl(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Fi(va,1&va.current|2),t.child}e=e.sibling}null!==a.tail&&st()>eu&&(t.flags|=128,r=!0,rl(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ba(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),rl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ms)return il(t),null}else 2*st()-a.renderingStartTime>eu&&1073741824!==n&&(t.flags|=128,r=!0,rl(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=st(),t.sibling=null,n=va.current,Fi(va,r?1&n|2:1&n),t):(il(t),null);case 22:case 23:return Tu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&ql)&&(il(t),6&t.subtreeFlags&&(t.flags|=8192)):il(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function al(e,t){switch(ds(t),t.tag){case 1:return $i(t.type)&&qi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ma(),Mi(zi),Mi(Ui),Ea(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ya(t),null;case 13:if(Mi(va),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ks()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Mi(va),null;case 4:return ma(),null;case 10:return Rs(t.type._context),null;case 22:case 23:return Tu(),null;default:return null}}$o=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},qo=function(){},Ho=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,fa(ca.current);var s,a=null;switch(n){case"input":i=ne(e,i),r=ne(e,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=he(e,i),r=he(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=ci)}for(c in Ce(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Xr("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Ko=function(e,t,n,r){n!==r&&(t.flags|=4)};var ol=!1,ll=!1,ul="function"===typeof WeakSet?WeakSet:Set,cl=null;function hl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(F){Mu(e,t,F)}else n.current=null}function dl(e,t,n){try{n()}catch(F){Mu(e,t,F)}}var fl=!1;function pl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&dl(t,n,s)}i=i.next}while(i!==r)}}function ml(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function gl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function yl(e){var t=e.alternate;null!==t&&(e.alternate=null,yl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[Ti],delete t[ki],delete t[Ci],delete t[Ii],delete t[xi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vl(e){return 5===e.tag||3===e.tag||4===e.tag}function bl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||vl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function wl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ci));else if(4!==r&&null!==(e=e.child))for(wl(e,t,n),e=e.sibling;null!==e;)wl(e,t,n),e=e.sibling}function El(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(El(e,t,n),e=e.sibling;null!==e;)El(e,t,n),e=e.sibling}var Sl=null,Tl=!1;function kl(e,t,n){for(n=n.child;null!==n;)_l(e,t,n),n=n.sibling}function _l(e,t,n){if(ft&&"function"===typeof ft.onCommitFiberUnmount)try{ft.onCommitFiberUnmount(dt,n)}catch(B){}switch(n.tag){case 5:ll||hl(n,t);case 6:var r=Sl,i=Tl;Sl=null,kl(e,t,n),Tl=i,null!==(Sl=r)&&(Tl?(e=Sl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):Sl.removeChild(n.stateNode));break;case 18:null!==Sl&&(Tl?(e=Sl,n=n.stateNode,8===e.nodeType?bi(e.parentNode,n):1===e.nodeType&&bi(e,n),Xt(e)):bi(Sl,n.stateNode));break;case 4:r=Sl,i=Tl,Sl=n.stateNode.containerInfo,Tl=!0,kl(e,t,n),Sl=r,Tl=i;break;case 0:case 11:case 14:case 15:if(!ll&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&dl(n,t,a),i=i.next}while(i!==r)}kl(e,t,n);break;case 1:if(!ll&&(hl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(B){Mu(n,t,B)}kl(e,t,n);break;case 21:kl(e,t,n);break;case 22:1&n.mode?(ll=(r=ll)||null!==n.memoizedState,kl(e,t,n),ll=r):kl(e,t,n);break;default:kl(e,t,n)}}function Cl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ul),t.forEach((function(t){var r=zu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Il(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:Sl=l.stateNode,Tl=!1;break e;case 3:case 4:Sl=l.stateNode.containerInfo,Tl=!0;break e}l=l.return}if(null===Sl)throw Error(s(160));_l(a,o,i),Sl=null,Tl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(rn){Mu(i,t,rn)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xl(t,e),t=t.sibling}function xl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Il(t,e),Nl(e),4&r){try{pl(3,e,e.return),ml(3,e)}catch(pn){Mu(e,e.return,pn)}try{pl(5,e,e.return)}catch(pn){Mu(e,e.return,pn)}}break;case 1:Il(t,e),Nl(e),512&r&&null!==n&&hl(n,n.return);break;case 5:if(Il(t,e),Nl(e),512&r&&null!==n&&hl(n,n.return),32&e.flags){var i=e.stateNode;try{we(i,"")}catch(pn){Mu(e,e.return,pn)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&ie(i,a),Ie(l,o);var c=Ie(l,a);for(o=0;o<u.length;o+=2){var h=u[o],d=u[o+1];"style"===h?ke(i,d):"dangerouslySetInnerHTML"===h?be(i,d):"children"===h?we(i,d):b(i,h,d,c)}switch(l){case"input":se(i,a);break;case"textarea":fe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ce(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ce(i,!!a.multiple,a.defaultValue,!0):ce(i,!!a.multiple,a.multiple?[]:"",!1))}i[ki]=a}catch(pn){Mu(e,e.return,pn)}}break;case 6:if(Il(t,e),Nl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(pn){Mu(e,e.return,pn)}}break;case 3:if(Il(t,e),Nl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Xt(t.containerInfo)}catch(pn){Mu(e,e.return,pn)}break;case 4:default:Il(t,e),Nl(e);break;case 13:Il(t,e),Nl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Zl=st())),4&r&&Cl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(ll=(c=ll)||h,Il(t,e),ll=c):Il(t,e),Nl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(cl=e,h=e.child;null!==h;){for(d=cl=h;null!==cl;){switch(p=(f=cl).child,f.tag){case 0:case 11:case 14:case 15:pl(4,f,f.return);break;case 1:hl(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(pn){Mu(r,n,pn)}}break;case 5:hl(f,f.return);break;case 22:if(null!==f.memoizedState){Rl(d);continue}}null!==p?(p.return=f,cl=p):Rl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,o=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=Te("display",o))}catch(pn){Mu(e,e.return,pn)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(pn){Mu(e,e.return,pn)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Il(t,e),Nl(e),4&r&&Cl(e);case 21:}}function Nl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(vl(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(we(i,""),r.flags&=-33),El(e,bl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;wl(e,bl(e),a);break;default:throw Error(s(161))}}catch(te){Mu(e,e.return,te)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Dl(e,t,n){cl=e,Al(e,t,n)}function Al(e,t,n){for(var r=0!==(1&e.mode);null!==cl;){var i=cl,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||ol;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||ll;o=ol;var u=ll;if(ol=a,(ll=l)&&!u)for(cl=i;null!==cl;)l=(a=cl).child,22===a.tag&&null!==a.memoizedState?Ol(i):null!==l?(l.return=a,cl=l):Ol(i);for(;null!==s;)cl=s,Al(s,t,n),s=s.sibling;cl=i,ol=o,ll=u}Ll(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,cl=s):Ll(e)}}function Ll(e){for(;null!==cl;){var t=cl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:ll||ml(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!ll)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Is(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Gs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Gs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Xt(d)}}}break;default:throw Error(s(163))}ll||512&t.flags&&gl(t)}catch(O){Mu(t,t.return,O)}}if(t===e){cl=null;break}if(null!==(n=t.sibling)){n.return=t.return,cl=n;break}cl=t.return}}function Rl(e){for(;null!==cl;){var t=cl;if(t===e){cl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,cl=n;break}cl=t.return}}function Ol(e){for(;null!==cl;){var t=cl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ml(4,t)}catch(te){Mu(t,n,te)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(te){Mu(t,i,te)}}var s=t.return;try{gl(t)}catch(te){Mu(t,s,te)}break;case 5:var a=t.return;try{gl(t)}catch(te){Mu(t,a,te)}}}catch(te){Mu(t,t.return,te)}if(t===e){cl=null;break}var o=t.sibling;if(null!==o){o.return=t.return,cl=o;break}cl=t.return}}var Pl,Ml=Math.ceil,Fl=w.ReactCurrentDispatcher,Vl=w.ReactCurrentOwner,Ul=w.ReactCurrentBatchConfig,zl=0,Bl=null,jl=null,$l=0,ql=0,Hl=Pi(0),Kl=0,Ql=null,Wl=0,Gl=0,Xl=0,Yl=null,Jl=null,Zl=0,eu=1/0,tu=null,nu=!1,ru=null,iu=null,su=!1,au=null,ou=0,lu=0,uu=null,cu=-1,hu=0;function du(){return 0!==(6&zl)?st():-1!==cu?cu:cu=st()}function fu(e){return 0===(1&e.mode)?1:0!==(2&zl)&&0!==$l?$l&-$l:null!==Cs.transition?(0===hu&&(hu=Tt()),hu):0!==(e=It)?e:e=void 0===(e=window.event)?16:an(e.type)}function pu(e,t,n,r){if(50<lu)throw lu=0,uu=null,Error(s(185));_t(e,n,r),0!==(2&zl)&&e===Bl||(e===Bl&&(0===(2&zl)&&(Gl|=n),4===Kl&&bu(e,$l)),mu(e,r),1===n&&0===zl&&0===(1&t.mode)&&(eu=st()+500,Xi&&Zi()))}function mu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-pt(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=Et(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=wt(e,e===Bl?$l:0);if(0===r)null!==n&&nt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&nt(n),1===t)0===e.tag?function(e){Xi=!0,Ji(e)}(wu.bind(null,e)):Ji(wu.bind(null,e)),yi((function(){0===(6&zl)&&Zi()})),n=null;else{switch(xt(r)){case 1:n=ot;break;case 4:n=lt;break;case 16:default:n=ut;break;case 536870912:n=ht}n=Bu(n,gu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function gu(e,t){if(cu=-1,hu=0,0!==(6&zl))throw Error(s(327));var n=e.callbackNode;if(Ou()&&e.callbackNode!==n)return null;var r=wt(e,e===Bl?$l:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=xu(e,r);else{t=r;var i=zl;zl|=2;var a=Cu();for(Bl===e&&$l===t||(tu=null,eu=st()+500,ku(e,t));;)try{Du();break}catch(B){_u(e,B)}Ls(),Fl.current=a,zl=i,null!==jl?t=0:(Bl=null,$l=0,t=Kl)}if(0!==t){if(2===t&&(0!==(i=St(e))&&(r=i,t=yu(e,i))),1===t)throw n=Ql,ku(e,0),bu(e,r),mu(e,st()),n;if(6===t)bu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!vr(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=xu(e,r))&&(0!==(a=St(e))&&(r=a,t=yu(e,a))),1===t))throw n=Ql,ku(e,0),bu(e,r),mu(e,st()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Ru(e,Jl,tu);break;case 3:if(bu(e,r),(130023424&r)===r&&10<(t=Zl+500-st())){if(0!==wt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){du(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=pi(Ru.bind(null,e,Jl,tu),t);break}Ru(e,Jl,tu);break;case 4:if(bu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-pt(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=st()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ml(r/1960))-r)){e.timeoutHandle=pi(Ru.bind(null,e,Jl,tu),r);break}Ru(e,Jl,tu);break;default:throw Error(s(329))}}}return mu(e,st()),e.callbackNode===n?gu.bind(null,e):null}function yu(e,t){var n=Yl;return e.current.memoizedState.isDehydrated&&(ku(e,t).flags|=256),2!==(e=xu(e,t))&&(t=Jl,Jl=n,null!==t&&vu(t)),e}function vu(e){null===Jl?Jl=e:Jl.push.apply(Jl,e)}function bu(e,t){for(t&=~Xl,t&=~Gl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pt(t),r=1<<n;e[n]=-1,t&=~r}}function wu(e){if(0!==(6&zl))throw Error(s(327));Ou();var t=wt(e,0);if(0===(1&t))return mu(e,st()),null;var n=xu(e,t);if(0!==e.tag&&2===n){var r=St(e);0!==r&&(t=r,n=yu(e,r))}if(1===n)throw n=Ql,ku(e,0),bu(e,t),mu(e,st()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ru(e,Jl,tu),mu(e,st()),null}function Eu(e,t){var n=zl;zl|=1;try{return e(t)}finally{0===(zl=n)&&(eu=st()+500,Xi&&Zi())}}function Su(e){null!==au&&0===au.tag&&0===(6&zl)&&Ou();var t=zl;zl|=1;var n=Ul.transition,r=It;try{if(Ul.transition=null,It=1,e)return e()}finally{It=r,Ul.transition=n,0===(6&(zl=t))&&Zi()}}function Tu(){ql=Hl.current,Mi(Hl)}function ku(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,mi(n)),null!==jl)for(n=jl.return;null!==n;){var r=n;switch(ds(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&qi();break;case 3:ma(),Mi(zi),Mi(Ui),Ea();break;case 5:ya(r);break;case 4:ma();break;case 13:case 19:Mi(va);break;case 10:Rs(r.type._context);break;case 22:case 23:Tu()}n=n.return}if(Bl=e,jl=e=Hu(e.current,null),$l=ql=t,Kl=0,Ql=null,Xl=Gl=Wl=0,Jl=Yl=null,null!==Fs){for(t=0;t<Fs.length;t++)if(null!==(r=(n=Fs[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Fs=null}return e}function _u(e,t){for(;;){var n=jl;try{if(Ls(),Sa.current=yo,xa){for(var r=_a.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}xa=!1}if(ka=0,Ia=Ca=_a=null,Na=!1,Da=0,Vl.current=null,null===n||null===n.return){Kl=1,Ql=t,jl=null;break}e:{var a=e,o=n.return,l=n,u=t;if(t=$l,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=xo(o);if(null!==p){p.flags&=-257,No(p,o,l,0,t),1&p.mode&&Io(a,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){Io(a,c,t),Iu();break e}u=Error(s(426))}else if(ms&&1&l.mode){var y=xo(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),No(y,o,l,0,t),_s(Eo(u,l));break e}}a=u=Eo(u,l),4!==Kl&&(Kl=2),null===Yl?Yl=[a]:Yl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Qs(a,_o(0,u,t));break e;case 1:l=u;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===iu||!iu.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Qs(a,Co(a,l,t));break e}}a=a.return}while(null!==a)}Lu(n)}catch(vn){t=vn,jl===n&&null!==n&&(jl=n=n.return);continue}break}}function Cu(){var e=Fl.current;return Fl.current=yo,null===e?yo:e}function Iu(){0!==Kl&&3!==Kl&&2!==Kl||(Kl=4),null===Bl||0===(268435455&Wl)&&0===(268435455&Gl)||bu(Bl,$l)}function xu(e,t){var n=zl;zl|=2;var r=Cu();for(Bl===e&&$l===t||(tu=null,ku(e,t));;)try{Nu();break}catch(i){_u(e,i)}if(Ls(),zl=n,Fl.current=r,null!==jl)throw Error(s(261));return Bl=null,$l=0,Kl}function Nu(){for(;null!==jl;)Au(jl)}function Du(){for(;null!==jl&&!rt();)Au(jl)}function Au(e){var t=Pl(e.alternate,e,ql);e.memoizedProps=e.pendingProps,null===t?Lu(e):jl=t,Vl.current=null}function Lu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=sl(n,t,ql)))return void(jl=n)}else{if(null!==(n=al(n,t)))return n.flags&=32767,void(jl=n);if(null===e)return Kl=6,void(jl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(jl=t);jl=t=e}while(null!==t);0===Kl&&(Kl=5)}function Ru(e,t,n){var r=It,i=Ul.transition;try{Ul.transition=null,It=1,function(e,t,n,r){do{Ou()}while(null!==au);if(0!==(6&zl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-pt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Bl&&(jl=Bl=null,$l=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||su||(su=!0,Bu(ut,(function(){return Ou(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Ul.transition,Ul.transition=null;var o=It;It=1;var l=zl;zl|=4,Vl.current=null,function(e,t){if(hi=Jt,kr(e=Tr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(oe){n=null;break e}var o=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==a||0!==r&&3!==d.nodeType||(u=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=o),f===a&&++h===r&&(u=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(di={focusedElem:e,selectionRange:n},Jt=!1,cl=t;null!==cl;)if(e=(t=cl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,cl=e;else for(;null!==cl;){t=cl;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:Is(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(oe){Mu(t,t.return,oe)}if(null!==(e=t.sibling)){e.return=t.return,cl=e;break}cl=t.return}m=fl,fl=!1}(e,n),xl(n,e),_r(di),Jt=!!hi,di=hi=null,e.current=n,Dl(n,e,i),it(),zl=l,It=o,Ul.transition=a}else e.current=n;if(su&&(su=!1,au=e,ou=i),a=e.pendingLanes,0===a&&(iu=null),function(e){if(ft&&"function"===typeof ft.onCommitFiberRoot)try{ft.onCommitFiberRoot(dt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),mu(e,st()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(nu)throw nu=!1,e=ru,ru=null,e;0!==(1&ou)&&0!==e.tag&&Ou(),a=e.pendingLanes,0!==(1&a)?e===uu?lu++:(lu=0,uu=e):lu=0,Zi()}(e,t,n,r)}finally{Ul.transition=i,It=r}return null}function Ou(){if(null!==au){var e=xt(ou),t=Ul.transition,n=It;try{if(Ul.transition=null,It=16>e?16:e,null===au)var r=!1;else{if(e=au,au=null,ou=0,0!==(6&zl))throw Error(s(331));var i=zl;for(zl|=4,cl=e.current;null!==cl;){var a=cl,o=a.child;if(0!==(16&cl.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(cl=c;null!==cl;){var h=cl;switch(h.tag){case 0:case 11:case 15:pl(8,h,a)}var d=h.child;if(null!==d)d.return=h,cl=d;else for(;null!==cl;){var f=(h=cl).sibling,p=h.return;if(yl(h),h===c){cl=null;break}if(null!==f){f.return=p,cl=f;break}cl=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}cl=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,cl=o;else e:for(;null!==cl;){if(0!==(2048&(a=cl).flags))switch(a.tag){case 0:case 11:case 15:pl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,cl=v;break e}cl=a.return}}var b=e.current;for(cl=b;null!==cl;){var w=(o=cl).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,cl=w;else e:for(o=b;null!==cl;){if(0!==(2048&(l=cl).flags))try{switch(l.tag){case 0:case 11:case 15:ml(9,l)}}catch(vn){Mu(l,l.return,vn)}if(l===o){cl=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,cl=E;break e}cl=l.return}}if(zl=i,Zi(),ft&&"function"===typeof ft.onPostCommitFiberRoot)try{ft.onPostCommitFiberRoot(dt,e)}catch(vn){}r=!0}return r}finally{It=n,Ul.transition=t}}return!1}function Pu(e,t,n){e=Hs(e,t=_o(0,t=Eo(n,t),1),1),t=du(),null!==e&&(_t(e,1,t),mu(e,t))}function Mu(e,t,n){if(3===e.tag)Pu(e,e,n);else for(;null!==t;){if(3===t.tag){Pu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===iu||!iu.has(r))){t=Hs(t,e=Co(t,e=Eo(n,e),1),1),e=du(),null!==t&&(_t(t,1,e),mu(t,e));break}}t=t.return}}function Fu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=du(),e.pingedLanes|=e.suspendedLanes&n,Bl===e&&($l&n)===n&&(4===Kl||3===Kl&&(130023424&$l)===$l&&500>st()-Zl?ku(e,0):Xl|=n),mu(e,t)}function Vu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=vt,0===(130023424&(vt<<=1))&&(vt=4194304)));var n=du();null!==(e=zs(e,t))&&(_t(e,t,n),mu(e,n))}function Uu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Vu(e,n)}function zu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Vu(e,n)}function Bu(e,t){return tt(e,t)}function ju(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $u(e,t,n,r){return new ju(e,t,n,r)}function qu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hu(e,t){var n=e.alternate;return null===n?((n=$u(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ku(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)qu(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case T:return Qu(n.children,i,a,t);case k:o=8,i|=8;break;case _:return(e=$u(12,n,t,2|i)).elementType=_,e.lanes=a,e;case N:return(e=$u(13,n,t,i)).elementType=N,e.lanes=a,e;case D:return(e=$u(19,n,t,i)).elementType=D,e.lanes=a,e;case R:return Wu(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case I:o=9;break e;case x:o=11;break e;case A:o=14;break e;case L:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=$u(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qu(e,t,n,r){return(e=$u(7,e,r,t)).lanes=n,e}function Wu(e,t,n,r){return(e=$u(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Gu(e,t,n){return(e=$u(6,e,null,t)).lanes=n,e}function Xu(e,t,n){return(t=$u(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kt(0),this.expirationTimes=kt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ju(e,t,n,r,i,s,a,o,l){return e=new Yu(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=$u(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},js(s),e}function Zu(e){if(!e)return Vi;e:{if(Xe(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($i(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if($i(n))return Ki(e,n,t)}return t}function ec(e,t,n,r,i,s,a,o,l){return(e=Ju(n,r,!0,e,0,s,0,o,l)).context=Zu(null),n=e.current,(s=qs(r=du(),i=fu(n))).callback=void 0!==t&&null!==t?t:null,Hs(n,s,i),e.current.lanes=i,_t(e,i,r),mu(e,r),e}function tc(e,t,n,r){var i=t.current,s=du(),a=fu(i);return n=Zu(n),null===t.context?t.context=n:t.pendingContext=n,(t=qs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Hs(i,t,a))&&(pu(e,i,a,s),Ks(e,i,a)),a}function nc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function rc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ic(e,t){rc(e,t),(e=e.alternate)&&rc(e,t)}Pl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||zi.current)Ao=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Ao=!1,function(e,t,n){switch(t.tag){case 3:Bo(t),ks();break;case 5:ga(t);break;case 1:$i(t.type)&&Qi(t);break;case 4:pa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Fi(xs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Fi(va,1&va.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Go(e,t,n):(Fi(va,1&va.current),null!==(e=nl(e,t,n))?e.sibling:null);Fi(va,1&va.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return el(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fi(va,va.current),r)break;return null;case 22:case 23:return t.lanes=0,Mo(e,t,n)}return nl(e,t,n)}(e,t,n);Ao=0!==(131072&e.flags)}else Ao=!1,ms&&0!==(1048576&t.flags)&&cs(t,rs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;tl(e,t),e=t.pendingProps;var i=ji(t,Ui.current);Ps(t,n),i=Oa(null,t,r,e,i,n);var a=Pa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$i(r)?(a=!0,Qi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,js(t),i.updater=Js,t.stateNode=i,i._reactInternals=t,na(t,r,e,n),t=zo(null,t,r,!0,a,n)):(t.tag=0,ms&&a&&hs(t),Lo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(tl(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return qu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===A)return 14}return 2}(r),e=Is(r,e),i){case 0:t=Vo(null,t,r,e,n);break e;case 1:t=Uo(null,t,r,e,n);break e;case 11:t=Ro(null,t,r,e,n);break e;case 14:t=Oo(null,t,r,Is(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Vo(e,t,r,i=t.elementType===r?i:Is(r,i),n);case 1:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Is(r,i),n);case 3:e:{if(Bo(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,$s(e,t),Ws(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=jo(e,t,r,n,i=Eo(Error(s(423)),t));break e}if(r!==i){t=jo(e,t,r,n,i=Eo(Error(s(424)),t));break e}for(ps=wi(t.stateNode.containerInfo.firstChild),fs=t,ms=!0,gs=null,n=la(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ks(),r===i){t=nl(e,t,n);break e}Lo(e,t,r,n)}t=t.child}return t;case 5:return ga(t),null===e&&ws(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,fi(r,i)?o=null:null!==a&&fi(r,a)&&(t.flags|=32),Fo(e,t),Lo(e,t,o,n),t.child;case 6:return null===e&&ws(t),null;case 13:return Go(e,t,n);case 4:return pa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=oa(t,null,r,n):Lo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ro(e,t,r,i=t.elementType===r?i:Is(r,i),n);case 7:return Lo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Lo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Fi(xs,r._currentValue),r._currentValue=o,null!==a)if(vr(a.value,o)){if(a.children===i.children&&!zi.current){t=nl(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=qs(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Os(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Os(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}Lo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ps(t,n),r=r(i=Ms(i)),t.flags|=1,Lo(e,t,r,n),t.child;case 14:return i=Is(r=t.type,t.pendingProps),Oo(e,t,r,i=Is(r.type,i),n);case 15:return Po(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Is(r,i),tl(e,t),t.tag=1,$i(r)?(e=!0,Qi(t)):e=!1,Ps(t,n),ea(t,r,i),na(t,r,i,n),zo(null,t,r,!0,e,n);case 19:return el(e,t,n);case 22:return Mo(e,t,n)}throw Error(s(156,t.tag))};var sc="function"===typeof reportError?reportError:function(e){console.error(e)};function ac(e){this._internalRoot=e}function oc(e){this._internalRoot=e}function lc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function uc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function cc(){}function hc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=nc(a);o.call(e)}}tc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=nc(a);s.call(e)}}var a=ec(t,r,e,0,null,!1,0,"",cc);return e._reactRootContainer=a,e[_i]=a.current,Zr(8===e.nodeType?e.parentNode:e),Su(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=nc(l);o.call(e)}}var l=Ju(e,0,!1,null,0,!1,0,"",cc);return e._reactRootContainer=l,e[_i]=l.current,Zr(8===e.nodeType?e.parentNode:e),Su((function(){tc(t,l,n,r)})),l}(n,t,e,i,r);return nc(a)}oc.prototype.render=ac.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));tc(e,t,null,null)},oc.prototype.unmount=ac.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Su((function(){tc(null,e,null,null)})),t[_i]=null}},oc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bt.length&&0!==t&&t<Bt[n].priority;n++);Bt.splice(n,0,e),0===n&&Ht(e)}},Nt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=bt(t.pendingLanes);0!==n&&(Ct(t,1|n),mu(t,st()),0===(6&zl)&&(eu=st()+500,Zi()))}break;case 13:Su((function(){var t=zs(e,1);if(null!==t){var n=du();pu(t,e,1,n)}})),ic(e,1)}},Dt=function(e){if(13===e.tag){var t=zs(e,134217728);if(null!==t)pu(t,e,134217728,du());ic(e,134217728)}},At=function(e){if(13===e.tag){var t=fu(e),n=zs(e,t);if(null!==n)pu(n,e,t,du());ic(e,t)}},Lt=function(){return It},Rt=function(e,t){var n=It;try{return It=e,t()}finally{It=n}},De=function(e,t,n){switch(t){case"input":if(se(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Li(r);if(!i)throw Error(s(90));Z(r),se(r,i)}}}break;case"textarea":fe(e,n);break;case"select":null!=(t=n.value)&&ce(e,!!n.multiple,t,!1)}},Me=Eu,Fe=Su;var dc={usingClientEntryPoint:!1,Events:[Di,Ai,Li,Oe,Pe,Eu]},fc={findFiberByHostInstance:Ni,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},pc={bundleType:fc.bundleType,version:fc.version,rendererPackageName:fc.rendererPackageName,rendererConfig:fc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:fc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{dt=mc.inject(pc),ft=mc}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!lc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!lc(e))throw Error(s(299));var n=!1,r="",i=sc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Ju(e,1,!1,null,0,n,0,r,i),e[_i]=t.current,Zr(8===e.nodeType?e.parentNode:e),new ac(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e){return Su(e)},t.hydrate=function(e,t,n){if(!uc(t))throw Error(s(200));return hc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!lc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=sc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=ec(t,null,e,1,null!=n?n:null,i,0,a,o),e[_i]=t.current,Zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new oc(t)},t.render=function(e,t,n){if(!uc(t))throw Error(s(200));return hc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!uc(e))throw Error(s(40));return!!e._reactRootContainer&&(Su((function(){hc(null,null,e,!1,(function(){e._reactRootContainer=null,e[_i]=null}))})),!0)},t.unstable_batchedUpdates=Eu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!uc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return hc(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},391:(e,t,n)=>{var r=n(950);t.H=r.createRoot,r.hydrateRoot},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:s,_owner:o.current}}t.Fragment=s,t.jsx=u,t.jsxs=u},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var E=Array.isArray,S=Object.prototype.hasOwnProperty,T={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!k.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:T.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+x(l,0):s,E(a)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),N(a,t,i,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",E(e))for(var u=0;u<e.length;u++){var c=s+x(o=e[u],u);l+=N(o,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(o=e.next()).done;)l+=N(o=o.value,t,i,c=s+x(o,u++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function D(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},R={transition:null},O={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:R,ReactCurrentOwner:T};t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=T.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!k.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.2.0"},43:(e,t,n)=>{e.exports=n(202)},579:(e,t,n)=>{e.exports=n(153)},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function E(e){if(g=!1,w(e),!m)if(null!==r(u))m=!0,R(S);else{var t=r(c);null!==t&&O(E,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,v(C),C=-1),p=!0;var s=f;try{for(w(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!N());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(u)&&i(u),w(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&O(E,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var T,k=!1,_=null,C=-1,I=5,x=-1;function N(){return!(t.unstable_now()-x<I)}function D(){if(null!==_){var e=t.unstable_now();x=e;var n=!0;try{n=_(!0,e)}finally{n?T():(k=!1,_=null)}}else k=!1}if("function"===typeof b)T=function(){b(D)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,L=A.port2;A.port1.onmessage=D,T=function(){L.postMessage(null)}}else T=function(){y(D,0)};function R(e){_=e,k||(k=!0,T())}function O(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(g?(v(C),C=-1):g=!0,O(E,s-a))):(e.sortIndex=o,n(u,e),m||p||(m=!0,R(S))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{e.exports=n(234)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.p="/Expense_Tracker/";var r=n(391);const i=n.p+"static/media/top-view-desk-concept-with-notepad.a768b90ab0a4f8852ba8.jpg";var s=n(43);const a="ExpenseForm_form__cvG3t",o="ExpenseForm_input__kakSA",l="ExpenseForm_submitBtn__HJCkE";var u=n(579);const c=e=>{let{addExpense:t,editingExpense:n,update:r}=e;const i=(0,s.useRef)(),c=(0,s.useRef)();(0,s.useEffect)((()=>{n&&(i.current.value=n.text,c.current.value=n.amount)}),[n]);const h=()=>{c.current.value="",i.current.value=""};return(0,u.jsxs)("form",{className:a,onSubmit:e=>{e.preventDefault();const s=i.current.value,a=c.current.value;if(0===parseInt(a))return;const o={text:s,amount:a,id:n?n.id:(new Date).getTime()};n?(r(o),h()):(t(o),h())},children:[(0,u.jsx)("h3",{children:n?"Edit transaction":"Add new transaction"}),(0,u.jsx)("label",{htmlFor:"expenseText",children:"Text"}),(0,u.jsx)("input",{id:"expenseText",className:o,type:"text",placeholder:"Enter text...",ref:i,required:!0}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"expenseAmount",children:"Amount"}),(0,u.jsx)("div",{children:"(negative - expense,positive-income)"})]}),(0,u.jsx)("input",{className:o,id:"expenseAmount",type:"number",placeholder:"Enter amount...",ref:c,required:!0}),(0,u.jsx)("button",{className:l,children:n?"Edit transaction":"Add Transaction"})]})},h="ExpenseInfo_expenseInfoContainer__pETQq",d="ExpenseInfo_balance__ibrhe",f="ExpenseInfo_incomeExpenseContainer__tnik9",p="ExpenseInfo_money__J0VHf",m="ExpenseInfo_plus__Wt8Z0",g="ExpenseInfo_minus__OYcDe",y=e=>{let{expenses:t}=e,n=0,r=0;const i=t.reduce(((e,t)=>{const i=parseInt(t.amount);return i<0?r+=i:n+=i,i+e}),0);return(0,u.jsxs)("div",{className:h,children:[(0,u.jsxs)("div",{className:d,children:[(0,u.jsx)("h4",{children:"YOUR BALANCE"}),(0,u.jsxs)("h1",{children:["$",i.toFixed(2)]})]}),(0,u.jsxs)("div",{className:f,children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h4",{children:"Income"}),(0,u.jsxs)("p",{id:"money-plus",className:`${p} ${m}`,children:["+$",n]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h4",{children:"Expense"}),(0,u.jsxs)("p",{id:"money-minus",className:`${p} ${g}`,children:["-$",r]})]})]})]})},v="ExpenseList_expenseListContainer__yrBMN",b="ExpenseList_transactionList__u0lDm",w="Transaction_transaction__4mFYr",E="Transaction_amount__xkMUF",S="Transaction_profit__iyIGy",T="Transaction_loss__aOnXh",k="Transaction_movePrice__UzGF1",_="Transaction_transactionOptions__TT-9P",C="Transaction_btnContainer__1kNq6",I="Transaction_active__ZJc7w",x="Transaction_edit__UOUc+",N="Transaction_delete__e3cUG",D=n.p+"static/media/edit.21622d04ce8af31a7190.png",A=n.p+"static/media/trash-bin.e2d7a73c365ba8d4c545.png",L=e=>{let{expense:t,deleteExpense:n,index:r,editExpense:i}=e;const[a,o]=(0,s.useState)(null);return(0,u.jsxs)("li",{className:`${w} ${t.amount>0?S:T}`,onMouseOver:()=>{o(r)},onMouseLeave:()=>{o(null)},children:[(0,u.jsx)("div",{children:t.text}),(0,u.jsxs)("div",{className:_,children:[(0,u.jsxs)("div",{className:`${E} ${a===r&&k}`,children:["$",t.amount]}),(0,u.jsxs)("div",{className:`${C} ${a===r&&I}`,children:[(0,u.jsx)("div",{className:x,onClick:()=>{i(t)},children:(0,u.jsx)("img",{src:D,height:"100%",alt:"Edit"})}),(0,u.jsx)("div",{className:N,onClick:()=>n(t.id),children:(0,u.jsx)("img",{src:A,height:"100%",alt:"Delete"})})]})]})]},t.id)},R=e=>{let{expenses:t,deleteExpense:n,editExpense:r}=e;return(0,u.jsxs)("div",{className:v,children:[(0,u.jsx)("h3",{children:"Transactions"}),(0,u.jsx)("ul",{className:b,children:t.map(((e,t)=>(0,u.jsx)(L,{index:t,expense:e,deleteExpense:n,editExpense:r},e.id)))})]})};function O(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=O(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const P=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=O(e))&&(r&&(r+=" "),r+=t);return r},M=e=>"number"==typeof e&&!isNaN(e),F=e=>"string"==typeof e,V=e=>"function"==typeof e,U=e=>F(e)||V(e)?e:null,z=e=>(0,s.isValidElement)(e)||F(e)||V(e)||M(e);function B(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:a=300}=e;return function(e){let{children:o,position:l,preventExitTransition:u,done:c,nodeRef:h,isIn:d}=e;const f=r?`${t}--${l}`:t,p=r?`${n}--${l}`:n,m=(0,s.useRef)(0);return(0,s.useLayoutEffect)((()=>{const e=h.current,t=f.split(" "),n=r=>{r.target===h.current&&(e.dispatchEvent(new Event("d")),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===m.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,s.useEffect)((()=>{const e=h.current,t=()=>{e.removeEventListener("animationend",t),i?function(e,t,n){void 0===n&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame((()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame((()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,c,a):c()};d||(u?t():(m.current=1,e.className+=` ${p}`,e.addEventListener("animationend",t)))}),[d]),s.createElement(s.Fragment,null,o)}}function j(e,t){return{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}}const $={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter((e=>e!==t));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach((t=>{const n=setTimeout((()=>{t(...[].slice.call(arguments,1))}),0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)}))}},q=e=>{let{theme:t,type:n,...r}=e;return s.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":`var(--toastify-icon-color-${n})`,...r})},H={info:function(e){return s.createElement(q,{...e},s.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return s.createElement(q,{...e},s.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return s.createElement(q,{...e},s.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return s.createElement(q,{...e},s.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return s.createElement("div",{className:"Toastify__spinner"})}};function K(e){const[,t]=(0,s.useReducer)((e=>e+1),0),[n,r]=(0,s.useState)([]),i=(0,s.useRef)(null),a=(0,s.useRef)(new Map).current,o=e=>-1!==n.indexOf(e),l=(0,s.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:o,getToast:e=>a.get(e)}).current;function u(e){let{containerId:t}=e;const{limit:n}=l.props;!n||t&&l.containerId!==t||(l.count-=l.queue.length,l.queue=[])}function c(e){r((t=>null==e?[]:t.filter((t=>t!==e))))}function h(){const{toastContent:e,toastProps:t,staleId:n}=l.queue.shift();f(e,t,n)}function d(e,n){let{delay:r,staleId:o,...u}=n;if(!z(e)||function(e){return!i.current||l.props.enableMultiContainer&&e.containerId!==l.props.containerId||a.has(e.toastId)&&null==e.updateId}(u))return;const{toastId:d,updateId:p,data:m}=u,{props:g}=l,y=()=>c(d),v=null==p;v&&l.count++;const b={...g,style:g.toastStyle,key:l.toastKey++,...u,toastId:d,updateId:p,data:m,closeToast:y,isIn:!1,className:U(u.className||g.toastClassName),bodyClassName:U(u.bodyClassName||g.bodyClassName),progressClassName:U(u.progressClassName||g.progressClassName),autoClose:!u.isLoading&&(w=u.autoClose,E=g.autoClose,!1===w||M(w)&&w>0?w:E),deleteToast(){const e=j(a.get(d),"removed");a.delete(d),$.emit(4,e);const n=l.queue.length;if(l.count=null==d?l.count-l.displayedToast:l.count-1,l.count<0&&(l.count=0),n>0){const e=null==d?l.props.limit:1;if(1===n||1===e)l.displayedToast++,h();else{const t=e>n?n:e;l.displayedToast=t;for(let e=0;e<t;e++)h()}}else t()}};var w,E;b.iconOut=function(e){let{theme:t,type:n,isLoading:r,icon:i}=e,a=null;const o={theme:t,type:n};return!1===i||(V(i)?a=i(o):(0,s.isValidElement)(i)?a=(0,s.cloneElement)(i,o):F(i)||M(i)?a=i:r?a=H.spinner():(e=>e in H)(n)&&(a=H[n](o))),a}(b),V(u.onOpen)&&(b.onOpen=u.onOpen),V(u.onClose)&&(b.onClose=u.onClose),b.closeButton=g.closeButton,!1===u.closeButton||z(u.closeButton)?b.closeButton=u.closeButton:!0===u.closeButton&&(b.closeButton=!z(g.closeButton)||g.closeButton);let S=e;(0,s.isValidElement)(e)&&!F(e.type)?S=(0,s.cloneElement)(e,{closeToast:y,toastProps:b,data:m}):V(e)&&(S=e({closeToast:y,toastProps:b,data:m})),g.limit&&g.limit>0&&l.count>g.limit&&v?l.queue.push({toastContent:S,toastProps:b,staleId:o}):M(r)?setTimeout((()=>{f(S,b,o)}),r):f(S,b,o)}function f(e,t,n){const{toastId:i}=t;n&&a.delete(n);const s={content:e,props:t};a.set(i,s),r((e=>[...e,i].filter((e=>e!==n)))),$.emit(4,j(s,null==s.props.updateId?"added":"updated"))}return(0,s.useEffect)((()=>(l.containerId=e.containerId,$.cancelEmit(3).on(0,d).on(1,(e=>i.current&&c(e))).on(5,u).emit(2,l),()=>{a.clear(),$.emit(3,l)})),[]),(0,s.useEffect)((()=>{l.props=e,l.isToastActive=o,l.displayedToast=n.length})),{getToastToRender:function(t){const n=new Map,r=Array.from(a.values());return e.newestOnTop&&r.reverse(),r.forEach((e=>{const{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(e=>t(e[0],e[1])))},containerRef:i,isToastActive:o}}function Q(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function W(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function G(e){const[t,n]=(0,s.useState)(!1),[r,i]=(0,s.useState)(!1),a=(0,s.useRef)(null),o=(0,s.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=(0,s.useRef)(e),{autoClose:u,pauseOnHover:c,closeToast:h,onClick:d,closeOnClick:f}=e;function p(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",v),document.addEventListener("mouseup",b),document.addEventListener("touchmove",v),document.addEventListener("touchend",b);const n=a.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=n.getBoundingClientRect(),n.style.transition="",o.x=Q(t.nativeEvent),o.y=W(t.nativeEvent),"x"===e.draggableDirection?(o.start=o.x,o.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(o.start=o.y,o.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function m(t){if(o.boundingRect){const{top:n,bottom:r,left:i,right:s}=o.boundingRect;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&o.x>=i&&o.x<=s&&o.y>=n&&o.y<=r?y():g()}}function g(){n(!0)}function y(){n(!1)}function v(n){const r=a.current;o.canDrag&&r&&(o.didMove=!0,t&&y(),o.x=Q(n),o.y=W(n),o.delta="x"===e.draggableDirection?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),r.style.transform=`translate${e.draggableDirection}(${o.delta}px)`,r.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function b(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",b),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",b);const t=a.current;if(o.canDrag&&o.didMove&&t){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform=`translate${e.draggableDirection}(0)`,t.style.opacity="1"}}(0,s.useEffect)((()=>{l.current=e})),(0,s.useEffect)((()=>(a.current&&a.current.addEventListener("d",g,{once:!0}),V(e.onOpen)&&e.onOpen((0,s.isValidElement)(e.children)&&e.children.props),()=>{const e=l.current;V(e.onClose)&&e.onClose((0,s.isValidElement)(e.children)&&e.children.props)})),[]),(0,s.useEffect)((()=>(e.pauseOnFocusLoss&&(document.hasFocus()||y(),window.addEventListener("focus",g),window.addEventListener("blur",y)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",g),window.removeEventListener("blur",y))})),[e.pauseOnFocusLoss]);const w={onMouseDown:p,onTouchStart:p,onMouseUp:m,onTouchEnd:m};return u&&c&&(w.onMouseEnter=y,w.onMouseLeave=g),f&&(w.onClick=e=>{d&&d(e),o.canCloseOnClick&&h()}),{playToast:g,pauseToast:y,isRunning:t,preventExitTransition:r,toastRef:a,eventHandlers:w}}function X(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return s.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":r},s.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},s.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Y(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:a,className:o,style:l,controlledProgress:u,progress:c,rtl:h,isIn:d,theme:f}=e;const p=a||u&&0===c,m={...l,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:p?0:1};u&&(m.transform=`scaleX(${c})`);const g=P("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":h}),y=V(o)?o({rtl:h,type:i,defaultClassName:g}):P(g,o);return s.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:y,style:m,[u&&c>=1?"onTransitionEnd":"onAnimationEnd"]:u&&c<1?null:()=>{d&&r()}})}const J=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i}=G(e),{closeButton:a,children:o,autoClose:l,onClick:u,type:c,hideProgressBar:h,closeToast:d,transition:f,position:p,className:m,style:g,bodyClassName:y,bodyStyle:v,progressClassName:b,progressStyle:w,updateId:E,role:S,progress:T,rtl:k,toastId:_,deleteToast:C,isIn:I,isLoading:x,iconOut:N,closeOnClick:D,theme:A}=e,L=P("Toastify__toast",`Toastify__toast-theme--${A}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":D}),R=V(m)?m({rtl:k,position:p,type:c,defaultClassName:L}):P(L,m),O=!!T||!l,M={closeToast:d,type:c,theme:A};let F=null;return!1===a||(F=V(a)?a(M):(0,s.isValidElement)(a)?(0,s.cloneElement)(a,M):X(M)),s.createElement(f,{isIn:I,done:C,position:p,preventExitTransition:n,nodeRef:r},s.createElement("div",{id:_,onClick:u,className:R,...i,style:g,ref:r},s.createElement("div",{...I&&{role:S},className:V(y)?y({type:c}):P("Toastify__toast-body",y),style:v},null!=N&&s.createElement("div",{className:P("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!x})},N),s.createElement("div",null,o)),F,s.createElement(Y,{...E&&!O?{key:`pb-${E}`}:{},rtl:k,theme:A,delay:l,isRunning:t,isIn:I,closeToast:d,hide:h,type:c,style:w,className:b,controlledProgress:O,progress:T||0})))},Z=function(e,t){return void 0===t&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},ee=B(Z("bounce",!0)),te=(B(Z("slide",!0)),B(Z("zoom")),B(Z("flip")),(0,s.forwardRef)(((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=K(e),{className:a,style:o,rtl:l,containerId:u}=e;function c(e){const t=P("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":l});return V(a)?a({position:e,rtl:l,defaultClassName:t}):P(t,U(a))}return(0,s.useEffect)((()=>{t&&(t.current=r.current)}),[]),s.createElement("div",{ref:r,className:"Toastify",id:u},n(((e,t)=>{const n=t.length?{...o}:{...o,pointerEvents:"none"};return s.createElement("div",{className:c(e),style:n,key:`container-${e}`},t.map(((e,n)=>{let{content:r,props:a}=e;return s.createElement(J,{...a,isIn:i(a.toastId),style:{...a.style,"--nth":n+1,"--len":t.length},key:`toast-${a.key}`},r)})))})))})));te.displayName="ToastContainer",te.defaultProps={position:"top-right",transition:ee,autoClose:5e3,closeButton:X,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let ne,re=new Map,ie=[],se=1;function ae(){return""+se++}function oe(e){return e&&(F(e.toastId)||M(e.toastId))?e.toastId:ae()}function le(e,t){return re.size>0?$.emit(0,e,t):ie.push({content:e,options:t}),t.toastId}function ue(e,t){return{...t,type:t&&t.type||e,toastId:oe(t)}}function ce(e){return(t,n)=>le(t,ue(e,n))}function he(e,t){return le(e,ue("default",t))}he.loading=(e,t)=>le(e,ue("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),he.promise=function(e,t,n){let r,{pending:i,error:s,success:a}=t;i&&(r=F(i)?he.loading(i,n):he.loading(i.render,{...n,...i}));const o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null,delay:100},l=(e,t,i)=>{if(null==t)return void he.dismiss(r);const s={type:e,...o,...n,data:i},a=F(t)?{render:t}:t;return r?he.update(r,{...s,...a}):he(a.render,{...s,...a}),i},u=V(e)?e():e;return u.then((e=>l("success",a,e))).catch((e=>l("error",s,e))),u},he.success=ce("success"),he.info=ce("info"),he.error=ce("error"),he.warning=ce("warning"),he.warn=he.warning,he.dark=(e,t)=>le(e,ue("default",{theme:"dark",...t})),he.dismiss=e=>{re.size>0?$.emit(1,e):ie=ie.filter((t=>null!=e&&t.options.toastId!==e))},he.clearWaitingQueue=function(e){return void 0===e&&(e={}),$.emit(5,e)},he.isActive=e=>{let t=!1;return re.forEach((n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},he.update=function(e,t){void 0===t&&(t={}),setTimeout((()=>{const n=function(e,t){let{containerId:n}=t;const r=re.get(n||ne);return r&&r.getToast(e)}(e,t);if(n){const{props:r,content:i}=n,s={...r,...t,toastId:t.toastId||e,updateId:ae()};s.toastId!==e&&(s.staleId=e);const a=s.render||i;delete s.render,le(a,s)}}),0)},he.done=e=>{he.update(e,{progress:1})},he.onChange=e=>($.on(4,e),()=>{$.off(4,e)}),he.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},he.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},$.on(2,(e=>{ne=e.containerId||e,re.set(ne,e),ie.forEach((e=>{$.emit(0,e.content,e.options)})),ie=[]})).on(3,(e=>{re.delete(e.containerId||e),0===re.size&&$.off(0).off(1).off(5)}));const de=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,u=t>>2,c=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(de(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw Error();const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},pe=function(e){return function(e){const t=de(e);return fe.encodeByteArray(t,!0)}(e).replace(/\./g,"")},me=function(e){try{return fe.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const ge=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,ye=()=>{try{return ge()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/Expense_Tracker",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&me(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},ve=e=>{const t=(e=>{var t,n;return null===(n=null===(t=ye())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},be=()=>{var e;return null===(e=ye())||void 0===e?void 0:e.config};class we{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Ee(){try{return"object"===typeof indexedDB}catch(e){return!1}}class Se extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Se.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Te.prototype.create)}}class Te{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(ke,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new Se(n,s,t)}}const ke=/\{\$([^}]+)}/g;function _e(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Ce(n)&&Ce(s)){if(!_e(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ce(e){return null!==e&&"object"===typeof e}function Ie(e){return e&&e._delegate?e._delegate:e}class xe{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ne="[DEFAULT]";class De{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new we;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ne})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(xd){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Ne?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(xd){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne;return this.component?this.component.multipleInstances?e:Ne:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ae{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new De(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Le=[];var Re;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Re||(Re={}));const Oe={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},Pe=Re.INFO,Me={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},Fe=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Me[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...s)};class Ve{constructor(e){this.name=e,this._logLevel=Pe,this._logHandler=Fe,this._userLogHandler=null,Le.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Oe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...t),this._logHandler(this,Re.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...t),this._logHandler(this,Re.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Re.INFO,...t),this._logHandler(this,Re.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Re.WARN,...t),this._logHandler(this,Re.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...t),this._logHandler(this,Re.ERROR,...t)}}const Ue=(e,t)=>t.some((t=>e instanceof t));let ze,Be;const je=new WeakMap,$e=new WeakMap,qe=new WeakMap,He=new WeakMap,Ke=new WeakMap;let Qe={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return $e.get(e);if("objectStoreNames"===t)return e.objectStoreNames||qe.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xe(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function We(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Be||(Be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ye(this),n),Xe(je.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Xe(e.apply(Ye(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Ye(this),t,...r);return qe.set(s,t.sort?t.sort():[t]),Xe(s)}}function Ge(e){return"function"===typeof e?We(e):(e instanceof IDBTransaction&&function(e){if($e.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));$e.set(e,t)}(e),Ue(e,ze||(ze=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Qe):e)}function Xe(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Xe(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&je.set(t,e)})).catch((()=>{})),Ke.set(t,e),t}(e);if(He.has(e))return He.get(e);const t=Ge(e);return t!==e&&(He.set(e,t),Ke.set(t,e)),t}const Ye=e=>Ke.get(e);const Je=["get","getKey","getAll","getAllKeys","count"],Ze=["put","add","delete","clear"],et=new Map;function tt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(et.get(t))return et.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ze.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Je.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return et.set(t,s),s}Qe=(e=>({...e,get:(t,n,r)=>tt(t,n)||e.get(t,n,r),has:(t,n)=>!!tt(t,n)||e.has(t,n)}))(Qe);class nt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const rt="@firebase/app",it="0.9.3",st=new Ve("@firebase/app"),at="@firebase/app-compat",ot="@firebase/analytics-compat",lt="@firebase/analytics",ut="@firebase/app-check-compat",ct="@firebase/app-check",ht="@firebase/auth",dt="@firebase/auth-compat",ft="@firebase/database",pt="@firebase/database-compat",mt="@firebase/functions",gt="@firebase/functions-compat",yt="@firebase/installations",vt="@firebase/installations-compat",bt="@firebase/messaging",wt="@firebase/messaging-compat",Et="@firebase/performance",St="@firebase/performance-compat",Tt="@firebase/remote-config",kt="@firebase/remote-config-compat",_t="@firebase/storage",Ct="@firebase/storage-compat",It="@firebase/firestore",xt="@firebase/firestore-compat",Nt="firebase",Dt="[DEFAULT]",At={[rt]:"fire-core",[at]:"fire-core-compat",[lt]:"fire-analytics",[ot]:"fire-analytics-compat",[ct]:"fire-app-check",[ut]:"fire-app-check-compat",[ht]:"fire-auth",[dt]:"fire-auth-compat",[ft]:"fire-rtdb",[pt]:"fire-rtdb-compat",[mt]:"fire-fn",[gt]:"fire-fn-compat",[yt]:"fire-iid",[vt]:"fire-iid-compat",[bt]:"fire-fcm",[wt]:"fire-fcm-compat",[Et]:"fire-perf",[St]:"fire-perf-compat",[Tt]:"fire-rc",[kt]:"fire-rc-compat",[_t]:"fire-gcs",[Ct]:"fire-gcs-compat",[It]:"fire-fst",[xt]:"fire-fst-compat","fire-js":"fire-js",[Nt]:"fire-js-all"},Lt=new Map,Rt=new Map;function Ot(e,t){try{e.container.addComponent(t)}catch(n){st.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Pt(e){const t=e.name;if(Rt.has(t))return st.debug(`There were multiple attempts to register component ${t}.`),!1;Rt.set(t,e);for(const n of Lt.values())Ot(n,e);return!0}function Mt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Ft=new Te("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Vt{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new xe("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ft.create("app-deleted",{appName:this._name})}}function Ut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Dt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ft.create("bad-app-name",{appName:String(i)});if(n||(n=be()),!n)throw Ft.create("no-options");const s=Lt.get(i);if(s){if(_e(n,s.options)&&_e(r,s.config))return s;throw Ft.create("duplicate-app",{appName:i})}const a=new Ae(i);for(const l of Rt.values())a.addComponent(l);const o=new Vt(n,r,a);return Lt.set(i,o),o}function zt(e,t,n){var r;let i=null!==(r=At[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void st.warn(e.join(" "))}Pt(new xe(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const Bt="firebase-heartbeat-database",jt=1,$t="firebase-heartbeat-store";let qt=null;function Ht(){return qt||(qt=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Xe(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Xe(a.result),e.oldVersion,e.newVersion,Xe(a.transaction))})),n&&a.addEventListener("blocked",(()=>n())),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),o}(Bt,jt,{upgrade:(e,t)=>{if(0===t)e.createObjectStore($t)}}).catch((e=>{throw Ft.create("idb-open",{originalErrorMessage:e.message})}))),qt}async function Kt(e,t){try{const n=(await Ht()).transaction($t,"readwrite"),r=n.objectStore($t);return await r.put(t,Qt(e)),n.done}catch(n){if(n instanceof Se)st.warn(n.message);else{const e=Ft.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});st.warn(e.message)}}}function Qt(e){return`${e.name}!${e.options.appId}`}class Wt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Xt(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Gt();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Gt(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Yt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Yt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=pe(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Gt(){return(new Date).toISOString().substring(0,10)}class Xt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ee()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{return(await Ht()).transaction($t).objectStore($t).get(Qt(e))}catch(t){if(t instanceof Se)st.warn(t.message);else{const e=Ft.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});st.warn(e.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Kt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Kt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Yt(e){return pe(JSON.stringify({version:2,heartbeats:e})).length}var Jt;Jt="",Pt(new xe("platform-logger",(e=>new nt(e)),"PRIVATE")),Pt(new xe("heartbeat",(e=>new Wt(e)),"PRIVATE")),zt(rt,it,Jt),zt(rt,it,"esm2017"),zt("fire-js","");var Zt,en="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},tn={},nn=nn||{},rn=en||self;function sn(){}function an(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function on(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ln="closure_uid_"+(1e9*Math.random()>>>0),un=0;function cn(e,t,n){return e.call.apply(e.bind,arguments)}function hn(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function dn(e,t,n){return(dn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?cn:hn).apply(null,arguments)}function fn(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function pn(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function mn(){this.s=this.s,this.o=this.o}mn.prototype.s=!1,mn.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,ln)&&e[ln]||(e[ln]=++un))},mn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gn=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function yn(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function vn(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(an(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function bn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}bn.prototype.h=function(){this.defaultPrevented=!0};var wn=function(){if(!rn.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{rn.addEventListener("test",sn,t),rn.removeEventListener("test",sn,t)}catch(n){}return e}();function En(e){return/^[\s\xa0]*$/.test(e)}var Sn=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Tn(e,t){return e<t?-1:e>t?1:0}function kn(){var e=rn.navigator;return e&&(e=e.userAgent)?e:""}function _n(e){return-1!=kn().indexOf(e)}function Cn(e){return Cn[" "](e),e}Cn[" "]=sn;var In,xn=_n("Opera"),Nn=_n("Trident")||_n("MSIE"),Dn=_n("Edge"),An=Dn||Nn,Ln=_n("Gecko")&&!(-1!=kn().toLowerCase().indexOf("webkit")&&!_n("Edge"))&&!(_n("Trident")||_n("MSIE"))&&!_n("Edge"),Rn=-1!=kn().toLowerCase().indexOf("webkit")&&!_n("Edge");function On(){var e=rn.document;return e?e.documentMode:void 0}e:{var Pn="",Mn=function(){var e=kn();return Ln?/rv:([^\);]+)(\)|;)/.exec(e):Dn?/Edge\/([\d\.]+)/.exec(e):Nn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Rn?/WebKit\/(\S+)/.exec(e):xn?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Mn&&(Pn=Mn?Mn[1]:""),Nn){var Fn=On();if(null!=Fn&&Fn>parseFloat(Pn)){In=String(Fn);break e}}In=Pn}var Vn,Un={};function zn(){return function(e){var t=Un;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){let e=0;const t=Sn(String(In)).split("."),n=Sn("9").split("."),r=Math.max(t.length,n.length);for(let a=0;0==e&&a<r;a++){var i=t[a]||"",s=n[a]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=Tn(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||Tn(0==i[2].length,0==s[2].length)||Tn(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}))}if(rn.document&&Nn){var Bn=On();Vn=Bn||(parseInt(In,10)||void 0)}else Vn=void 0;var jn=Vn;function $n(e,t){if(bn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ln){e:{try{Cn(t.nodeName);var i=!0;break e}catch(z){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:qn[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&$n.X.h.call(this)}}pn($n,bn);var qn={2:"touch",3:"pen",4:"mouse"};$n.prototype.h=function(){$n.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Hn="closure_listenable_"+(1e6*Math.random()|0),Kn=0;function Qn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Kn,this.ba=this.ea=!1}function Wn(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Gn(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Xn(e){const t={};for(const n in e)t[n]=e[n];return t}const Yn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Jn(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Yn.length;t++)n=Yn[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Zn(e){this.src=e,this.g={},this.h=0}function er(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=gn(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Wn(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function tr(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ba&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}Zn.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=tr(e,t,r,i);return-1<a?(t=e[a],n||(t.ea=!1)):((t=new Qn(t,this.src,s,!!r,i)).ea=n,e.push(t)),t};var nr="closure_lm_"+(1e6*Math.random()|0),rr={};function ir(e,t,n,r,i){if(r&&r.once)return ar(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)ir(e,t[s],n,r,i);return null}return n=fr(n),e&&e[Hn]?e.N(t,n,on(r)?!!r.capture:!!r,i):sr(e,t,n,!1,r,i)}function sr(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=on(i)?!!i.capture:!!i,o=hr(e);if(o||(e[nr]=o=new Zn(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=cr;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)wn||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ur(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ar(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ar(e,t[s],n,r,i);return null}return n=fr(n),e&&e[Hn]?e.O(t,n,on(r)?!!r.capture:!!r,i):sr(e,t,n,!0,r,i)}function or(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)or(e,t[s],n,r,i);else r=on(r)?!!r.capture:!!r,n=fr(n),e&&e[Hn]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=tr(s=e.g[t],n,r,i))&&(Wn(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=hr(e))&&(t=e.g[t.toString()],e=-1,t&&(e=tr(t,n,r,i)),(n=-1<e?t[e]:null)&&lr(n))}function lr(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Hn])er(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ur(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=hr(t))?(er(n,e),0==n.h&&(n.src=null,t[nr]=null)):Wn(e)}}}function ur(e){return e in rr?rr[e]:rr[e]="on"+e}function cr(e,t){if(e.ba)e=!0;else{t=new $n(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&lr(e),e=n.call(r,t)}return e}function hr(e){return(e=e[nr])instanceof Zn?e:null}var dr="__closure_events_fn_"+(1e9*Math.random()>>>0);function fr(e){return"function"===typeof e?e:(e[dr]||(e[dr]=function(t){return e.handleEvent(t)}),e[dr])}function pr(){mn.call(this),this.i=new Zn(this),this.P=this,this.I=null}function mr(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new bn(t,e);else if(t instanceof bn)t.target=t.target||e;else{var i=t;Jn(t=new bn(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=gr(a,r,!0,t)&&i}if(i=gr(a=t.g=e,r,!0,t)&&i,i=gr(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=gr(a=t.g=n[s],r,!1,t)&&i}function gr(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ba&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.ea&&er(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}pn(pr,mn),pr.prototype[Hn]=!0,pr.prototype.removeEventListener=function(e,t,n,r){or(this,e,t,n,r)},pr.prototype.M=function(){if(pr.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Wn(n[r]);delete t.g[e],t.h--}}this.I=null},pr.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},pr.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var yr=rn.JSON.stringify;function vr(){var e=_r;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var br,wr=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Er),(e=>e.reset()));class Er{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Sr(e){rn.setTimeout((()=>{throw e}),0)}function Tr(e,t){br||function(){var e=rn.Promise.resolve(void 0);br=function(){e.then(Cr)}}(),kr||(br(),kr=!0),_r.add(e,t)}var kr=!1,_r=new class{constructor(){this.h=this.g=null}add(e,t){const n=wr.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function Cr(){for(var e;e=vr();){try{e.h.call(e.g)}catch(n){Sr(n)}var t=wr;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}kr=!1}function Ir(e,t){pr.call(this),this.h=e||1,this.g=t||rn,this.j=dn(this.lb,this),this.l=Date.now()}function xr(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Nr(e,t,n){if("function"===typeof e)n&&(e=dn(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=dn(e.handleEvent,e)}return 2147483647<Number(t)?-1:rn.setTimeout(e,t||0)}function Dr(e){e.g=Nr((()=>{e.g=null,e.i&&(e.i=!1,Dr(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}pn(Ir,pr),(Zt=Ir.prototype).ca=!1,Zt.R=null,Zt.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),mr(this,"tick"),this.ca&&(xr(this),this.start()))}},Zt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Zt.M=function(){Ir.X.M.call(this),xr(this),delete this.g};class Ar extends mn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Dr(this)}M(){super.M(),this.g&&(rn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lr(e){mn.call(this),this.h=e,this.g={}}pn(Lr,mn);var Rr=[];function Or(e,t,n,r){Array.isArray(n)||(n&&(Rr[0]=n.toString()),n=Rr);for(var i=0;i<n.length;i++){var s=ir(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Pr(e){Gn(e.g,(function(e,t){this.g.hasOwnProperty(t)&&lr(e)}),e),e.g={}}function Mr(){this.g=!0}function Fr(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return yr(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}Lr.prototype.M=function(){Lr.X.M.call(this),Pr(this)},Lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mr.prototype.Aa=function(){this.g=!1},Mr.prototype.info=function(){};var Vr={},Ur=null;function zr(){return Ur=Ur||new pr}function Br(e){bn.call(this,Vr.Pa,e)}function jr(e){const t=zr();mr(t,new Br(t))}function $r(e,t){bn.call(this,Vr.STAT_EVENT,e),this.stat=t}function qr(e){const t=zr();mr(t,new $r(t,e))}function Hr(e,t){bn.call(this,Vr.Qa,e),this.size=t}function Kr(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return rn.setTimeout((function(){e()}),t)}Vr.Pa="serverreachability",pn(Br,bn),Vr.STAT_EVENT="statevent",pn($r,bn),Vr.Qa="timingevent",pn(Hr,bn);var Qr={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Wr={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Gr(){}function Xr(e){return e.h||(e.h=e.i())}function Yr(){}Gr.prototype.h=null;var Jr,Zr={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function ei(){bn.call(this,"d")}function ti(){bn.call(this,"c")}function ni(){}function ri(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Lr(this),this.O=si,e=An?125:void 0,this.T=new Ir(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ii}function ii(){this.i=null,this.g="",this.h=!1}pn(ei,bn),pn(ti,bn),pn(ni,Gr),ni.prototype.g=function(){return new XMLHttpRequest},ni.prototype.i=function(){return{}},Jr=new ni;var si=45e3,ai={},oi={};function li(e,t,n){e.K=1,e.v=Ii(Si(t)),e.s=n,e.P=!0,ui(e,null)}function ui(e,t){e.F=Date.now(),fi(e),e.A=Si(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),zi(n.i,"t",r),e.C=0,n=e.l.H,e.h=new ii,e.g=Bs(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Ar(dn(e.La,e,e.g),e.N)),Or(e.S,e.g,"readystatechange",e.ib),t=e.H?Xn(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),jr(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var u=o[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+u+"&":a+(c+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function ci(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function hi(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=di(e,n),r==oi){4==t&&(e.o=4,qr(14),i=!1),Fr(e.j,e.m,null,"[Incomplete Response]");break}if(r==ai){e.o=4,qr(15),Fr(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Fr(e.j,e.m,r,null),vi(e,r)}ci(e)&&r!=oi&&r!=ai&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,qr(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Rs(t),t.K=!0,qr(11))):(Fr(e.j,e.m,n,"[Invalid Chunked Response]"),yi(e),gi(e))}function di(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?oi:(n=Number(t.substring(n,r)),isNaN(n)?ai:(r+=1)+n>t.length?oi:(t=t.substr(r,n),e.C=r+n,t))}function fi(e){e.V=Date.now()+e.O,pi(e,e.O)}function pi(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Kr(dn(e.gb,e),t)}function mi(e){e.B&&(rn.clearTimeout(e.B),e.B=null)}function gi(e){0==e.l.G||e.I||Ms(e.l,e)}function yi(e){mi(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,xr(e.T),Pr(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function vi(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Wi(n.h,e)))if(!e.J&&Wi(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(U){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ps(n),_s(n)}Ls(n),qr(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Kr(dn(n.cb,n),6e3));if(1>=Qi(n.h)&&n.ja){try{n.ja()}catch(U){}n.ja=void 0}}else Vs(n,11)}else if((e.J||n.g==e)&&Ps(n),!En(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.I=u[1],n.ka=u[2];const t=u[3];null!=t&&(n.ma=t,n.j.info("VER="+n.ma));const i=u[4];null!=i&&(n.Ca=i,n.j.info("SVER="+n.Ca));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Gi(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.za=e,Ci(r.F,r.D,e))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var a=e;if((r=n).sa=zs(r,r.H?r.ka:null,r.V),a.J){Xi(r.h,a);var o=a,l=r.J;l&&o.setTimeout(l),o.B&&(mi(o),fi(o)),r.g=a}else As(r);0<n.i.length&&Is(n)}else"stop"!=u[0]&&"close"!=u[0]||Vs(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Vs(n,7):ks(n):"noop"!=u[0]&&n.l&&n.l.wa(u),n.A=0)}jr()}catch(U){}}function bi(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(an(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(an(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(an(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Zt=ri.prototype).setTimeout=function(e){this.O=e},Zt.ib=function(e){e=e.target;const t=this.L;t&&3==vs(e)?t.l():this.La(e)},Zt.La=function(e){try{if(e==this.g)e:{const c=vs(this.g);var t=this.g.Ea();this.g.aa();if(!(3>c)&&(3!=c||An||this.g&&(this.h.h||this.g.fa()||bs(this.g)))){this.I||4!=c||7==t||jr(),mi(this);var n=this.g.aa();this.Y=n;t:if(ci(this)){var r=bs(this.g);e="";var i=r.length,s=4==vs(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){yi(this),gi(this);var a="";break t}this.h.i=new rn.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.fa();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!En(o)){var u=o;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,qr(12),yi(this),gi(this);break e}Fr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,vi(this,n)}this.P?(hi(this,c,a),An&&this.i&&3==c&&(Or(this.S,this.T,"tick",this.hb),this.T.start())):(Fr(this.j,this.m,a,null),vi(this,a)),4==c&&yi(this),this.i&&!this.I&&(4==c?Ms(this.l,this):(this.i=!1,fi(this)))}else 400==n&&0<a.indexOf("Unknown SID")?(this.o=3,qr(12)):(this.o=0,qr(13)),yi(this),gi(this)}}}catch(O){}},Zt.hb=function(){if(this.g){var e=vs(this.g),t=this.g.fa();this.C<t.length&&(mi(this),hi(this,e,t),this.i&&4!=e&&fi(this))}},Zt.cancel=function(){this.I=!0,yi(this)},Zt.gb=function(){this.B=null;const e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(jr(),qr(17)),yi(this),this.o=2,gi(this)):pi(this,this.V-e)};var wi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ei(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ei){this.h=void 0!==t?t:e.h,Ti(this,e.j),this.s=e.s,this.g=e.g,ki(this,e.m),this.l=e.l,t=e.i;var n=new Mi;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),_i(this,n),this.o=e.o}else e&&(n=String(e).match(wi))?(this.h=!!t,Ti(this,n[1]||"",!0),this.s=xi(n[2]||""),this.g=xi(n[3]||"",!0),ki(this,n[4]),this.l=xi(n[5]||"",!0),_i(this,n[6]||"",!0),this.o=xi(n[7]||"")):(this.h=!!t,this.i=new Mi(null,this.h))}function Si(e){return new Ei(e)}function Ti(e,t,n){e.j=n?xi(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ki(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function _i(e,t,n){t instanceof Mi?(e.i=t,function(e,t){t&&!e.j&&(Fi(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Vi(this,t),zi(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ni(t,Oi)),e.i=new Mi(t,e.h))}function Ci(e,t,n){e.i.set(t,n)}function Ii(e){return Ci(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function xi(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ni(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Di),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Di(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ei.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ni(t,Ai,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ni(t,Ai,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ni(n,"/"==n.charAt(0)?Ri:Li,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ni(n,Pi)),e.join("")};var Ai=/[#\/\?@]/g,Li=/[#\?:]/g,Ri=/[#\?]/g,Oi=/[#\?@]/g,Pi=/#/g;function Mi(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Fi(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Vi(e,t){Fi(e),t=Bi(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ui(e,t){return Fi(e),t=Bi(e,t),e.g.has(t)}function zi(e,t,n){Vi(e,t),0<n.length&&(e.i=null,e.g.set(Bi(e,t),yn(n)),e.h+=n.length)}function Bi(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Zt=Mi.prototype).add=function(e,t){Fi(this),this.i=null,e=Bi(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Zt.forEach=function(e,t){Fi(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Zt.oa=function(){Fi(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Zt.W=function(e){Fi(this);let t=[];if("string"===typeof e)Ui(this,e)&&(t=t.concat(this.g.get(Bi(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Zt.set=function(e,t){return Fi(this),this.i=null,Ui(this,e=Bi(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Zt.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Zt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var ji=class{constructor(e,t){this.h=e,this.g=t}};function $i(e){this.l=e||Hi,rn.PerformanceNavigationTiming?e=0<(e=rn.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(rn.g&&rn.g.Ga&&rn.g.Ga()&&rn.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var qi,Hi=10;function Ki(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Qi(e){return e.h?1:e.g?e.g.size:0}function Wi(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Gi(e,t){e.g?e.g.add(t):e.h=t}function Xi(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Yi(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return yn(e.i)}function Ji(){}function Zi(){this.g=new Ji}function es(e,t,n){const r=n||"";try{bi(e,(function(e,n){let i=e;on(e)&&(i=yr(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ts(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(z){}}function ns(e){this.l=e.ac||null,this.j=e.jb||!1}function rs(e,t){pr.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=is,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$i.prototype.cancel=function(){if(this.i=Yi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},Ji.prototype.stringify=function(e){return rn.JSON.stringify(e,void 0)},Ji.prototype.parse=function(e){return rn.JSON.parse(e,void 0)},pn(ns,Gr),ns.prototype.g=function(){return new rs(this.l,this.j)},ns.prototype.i=(qi={},function(){return qi}),pn(rs,pr);var is=0;function ss(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function as(e){e.readyState=4,e.l=null,e.j=null,e.A=null,os(e)}function os(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Zt=rs.prototype).open=function(e,t){if(this.readyState!=is)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,os(this)},Zt.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||rn).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Zt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,as(this)),this.readyState=is},Zt.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,os(this)),this.g&&(this.readyState=3,os(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof rn.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ss(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Zt.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?as(this):os(this),3==this.readyState&&ss(this)}},Zt.Va=function(e){this.g&&(this.response=this.responseText=e,as(this))},Zt.Ua=function(e){this.g&&(this.response=e,as(this))},Zt.ga=function(){this.g&&as(this)},Zt.setRequestHeader=function(e,t){this.v.append(e,t)},Zt.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Zt.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(rs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ls=rn.JSON.parse;function us(e){pr.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=cs,this.K=this.L=!1}pn(us,pr);var cs="",hs=/^https?$/i,ds=["POST","PUT"];function fs(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ps(e),gs(e)}function ps(e){e.D||(e.D=!0,mr(e,"complete"),mr(e,"error"))}function ms(e){if(e.h&&"undefined"!=typeof nn&&(!e.C[1]||4!=vs(e)||2!=e.aa()))if(e.v&&4==vs(e))Nr(e.Ha,0,e);else if(mr(e,"readystatechange"),4==vs(e)){e.h=!1;try{const o=e.aa();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.H).match(wi)[1]||null;if(!i&&rn.self&&rn.self.location){var s=rn.self.location.protocol;i=s.substr(0,s.length-1)}r=!hs.test(i?i.toLowerCase():"")}n=r}if(n)mr(e,"complete"),mr(e,"success");else{e.m=6;try{var a=2<vs(e)?e.g.statusText:""}catch(M){a=""}e.j=a+" ["+e.aa()+"]",ps(e)}}finally{gs(e)}}}function gs(e,t){if(e.g){ys(e);const r=e.g,i=e.C[0]?sn:null;e.g=null,e.C=null,t||mr(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function ys(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(rn.clearTimeout(e.A),e.A=null)}function vs(e){return e.g?e.g.readyState:0}function bs(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case cs:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(W){return null}}function ws(e){let t="";return Gn(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Es(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ws(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ci(e,t,n))}function Ss(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ts(e){this.Ca=0,this.i=[],this.j=new Mr,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ss("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ss("baseRetryDelayMs",5e3,e),this.bb=Ss("retryDelaySeedMs",1e4,e),this.$a=Ss("forwardChannelMaxRetries",2,e),this.ta=Ss("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new $i(e&&e.concurrentRequestLimit),this.Fa=new Zi,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function ks(e){if(Cs(e),3==e.G){var t=e.U++,n=Si(e.F);Ci(n,"SID",e.I),Ci(n,"RID",t),Ci(n,"TYPE","terminate"),Ns(e,n),(t=new ri(e,e.j,t,void 0)).K=2,t.v=Ii(Si(n)),n=!1,rn.navigator&&rn.navigator.sendBeacon&&(n=rn.navigator.sendBeacon(t.v.toString(),"")),!n&&rn.Image&&((new Image).src=t.v,n=!0),n||(t.g=Bs(t.l,null),t.g.da(t.v)),t.F=Date.now(),fi(t)}Us(e)}function _s(e){e.g&&(Rs(e),e.g.cancel(),e.g=null)}function Cs(e){_s(e),e.u&&(rn.clearTimeout(e.u),e.u=null),Ps(e),e.h.cancel(),e.m&&("number"===typeof e.m&&rn.clearTimeout(e.m),e.m=null)}function Is(e){Ki(e.h)||e.m||(e.m=!0,Tr(e.Ja,e),e.C=0)}function xs(e,t){var n;n=t?t.m:e.U++;const r=Si(e.F);Ci(r,"SID",e.I),Ci(r,"RID",n),Ci(r,"AID",e.T),Ns(e,r),e.o&&e.s&&Es(r,e.o,e.s),n=new ri(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Ds(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Gi(e.h,n),li(n,r,t)}function Ns(e,t){e.ia&&Gn(e.ia,(function(e,n){Ci(t,n,e)})),e.l&&bi({},(function(e,n){Ci(t,n,e)}))}function Ds(e,t,n){n=Math.min(e.i.length,n);var r=e.l?dn(e.l.Ra,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].h;const o=i[a].g;if(n-=t,0>n)t=Math.max(0,i[a].h-100),s=!1;else try{es(o,e,"req"+n+"_")}catch(oe){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function As(e){e.g||e.u||(e.Z=1,Tr(e.Ia,e),e.A=0)}function Ls(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Kr(dn(e.Ia,e),Fs(e,e.A)),e.A++,!0)}function Rs(e){null!=e.B&&(rn.clearTimeout(e.B),e.B=null)}function Os(e){e.g=new ri(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Si(e.sa);Ci(t,"RID","rpc"),Ci(t,"SID",e.I),Ci(t,"CI",e.L?"0":"1"),Ci(t,"AID",e.T),Ci(t,"TYPE","xmlhttp"),Ns(e,t),e.o&&e.s&&Es(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Ii(Si(t)),n.s=null,n.P=!0,ui(n,e)}function Ps(e){null!=e.v&&(rn.clearTimeout(e.v),e.v=null)}function Ms(e,t){var n=null;if(e.g==t){Ps(e),Rs(e),e.g=null;var r=2}else{if(!Wi(e.h,t))return;n=t.D,Xi(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;mr(r=zr(),new Hr(r,n)),Is(e)}else As(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Qi(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Kr(dn(e.Ja,e,t),Fs(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ls(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Vs(e,5);break;case 4:Vs(e,10);break;case 3:Vs(e,6);break;default:Vs(e,2)}}function Fs(e,t){let n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Vs(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=dn(e.kb,e);n||(n=new Ei("//www.google.com/images/cleardot.gif"),rn.location&&"http"==rn.location.protocol||Ti(n,"https"),Ii(n)),function(e,t){const n=new Mr;if(rn.Image){const r=new Image;r.onload=fn(ts,n,r,"TestLoadImage: loaded",!0,t),r.onerror=fn(ts,n,r,"TestLoadImage: error",!1,t),r.onabort=fn(ts,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=fn(ts,n,r,"TestLoadImage: timeout",!1,t),rn.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else qr(2);e.G=0,e.l&&e.l.va(t),Us(e),Cs(e)}function Us(e){if(e.G=0,e.la=[],e.l){const t=Yi(e.h);0==t.length&&0==e.i.length||(vn(e.la,t),vn(e.la,e.i),e.h.i.length=0,yn(e.i),e.i.length=0),e.l.ua()}}function zs(e,t,n){var r=n instanceof Ei?Si(n):new Ei(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),ki(r,r.m);else{var i=rn.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Ei(null,void 0);r&&Ti(s,r),t&&(s.g=t),i&&ki(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.za,n&&t&&Ci(r,n,t),Ci(r,"VER",e.ma),Ns(e,r),r}function Bs(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new us(new ns({jb:!0})):new us(e.ra)).Ka(e.H),t}function js(){}function $s(){if(Nn&&!(10<=Number(jn)))throw Error("Environmental error: no available transport.")}function qs(e,t){pr.call(this),this.g=new Ts(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!En(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!En(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Qs(this)}function Hs(e){ei.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ks(){ti.call(this),this.status=1}function Qs(e){this.g=e}(Zt=us.prototype).Ka=function(e){this.L=e},Zt.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Jr.g(),this.C=this.u?Xr(this.u):Xr(Jr),this.g.onreadystatechange=dn(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(z){return void fs(this,z)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=rn.FormData&&e instanceof rn.FormData,!(0<=gn(ds,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ys(this),0<this.B&&((this.K=function(e){return Nn&&zn()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dn(this.qa,this)):this.A=Nr(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(z){fs(this,z)}},Zt.qa=function(){"undefined"!=typeof nn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mr(this,"timeout"),this.abort(8))},Zt.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,mr(this,"complete"),mr(this,"abort"),gs(this))},Zt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gs(this,!0)),us.X.M.call(this)},Zt.Ha=function(){this.s||(this.F||this.v||this.l?ms(this):this.fb())},Zt.fb=function(){ms(this)},Zt.aa=function(){try{return 2<vs(this)?this.g.status:-1}catch(qi){return-1}},Zt.fa=function(){try{return this.g?this.g.responseText:""}catch(qi){return""}},Zt.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ls(t)}},Zt.Ea=function(){return this.m},Zt.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Zt=Ts.prototype).ma=8,Zt.G=1,Zt.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new ri(this,this.j,e,void 0);let s=this.s;if(this.S&&(s?(s=Xn(s),Jn(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.g&&"string"===typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Ds(this,i,t),Ci(n=Si(this.F),"RID",e),Ci(n,"CVER",22),this.D&&Ci(n,"X-HTTP-Session-Id",this.D),Ns(this,n),s&&(this.N?t="headers="+encodeURIComponent(String(ws(s)))+"&"+t:this.o&&Es(n,this.o,s)),Gi(this.h,i),this.Ya&&Ci(n,"TYPE","init"),this.O?(Ci(n,"$req",t),Ci(n,"SID","null"),i.Z=!0,li(i,n,null)):li(i,n,t),this.G=2}}else 3==this.G&&(e?xs(this,e):0==this.i.length||Ki(this.h)||xs(this))},Zt.Ia=function(){if(this.u=null,Os(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Kr(dn(this.eb,this),e)}},Zt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,qr(10),_s(this),Os(this))},Zt.cb=function(){null!=this.v&&(this.v=null,_s(this),Ls(this),qr(19))},Zt.kb=function(e){e?(this.j.info("Successfully pinged google.com"),qr(2)):(this.j.info("Failed to ping google.com"),qr(1))},(Zt=js.prototype).xa=function(){},Zt.wa=function(){},Zt.va=function(){},Zt.ua=function(){},Zt.Ra=function(){},$s.prototype.g=function(e,t){return new qs(e,t)},pn(qs,pr),qs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;qr(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=zs(e,null,e.V),Is(e)},qs.prototype.close=function(){ks(this.g)},qs.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=yr(e),e=n);t.i.push(new ji(t.ab++,e)),3==t.G&&Is(t)},qs.prototype.M=function(){this.g.l=null,delete this.j,ks(this.g),delete this.g,qs.X.M.call(this)},pn(Hs,ei),pn(Ks,ti),pn(Qs,js),Qs.prototype.xa=function(){mr(this.g,"a")},Qs.prototype.wa=function(e){mr(this.g,new Hs(e))},Qs.prototype.va=function(e){mr(this.g,new Ks)},Qs.prototype.ua=function(){mr(this.g,"b")},$s.prototype.createWebChannel=$s.prototype.g,qs.prototype.send=qs.prototype.u,qs.prototype.open=qs.prototype.m,qs.prototype.close=qs.prototype.close,Qr.NO_ERROR=0,Qr.TIMEOUT=8,Qr.HTTP_ERROR=6,Wr.COMPLETE="complete",Yr.EventType=Zr,Zr.OPEN="a",Zr.CLOSE="b",Zr.ERROR="c",Zr.MESSAGE="d",pr.prototype.listen=pr.prototype.N,us.prototype.listenOnce=us.prototype.O,us.prototype.getLastError=us.prototype.Oa,us.prototype.getLastErrorCode=us.prototype.Ea,us.prototype.getStatus=us.prototype.aa,us.prototype.getResponseJson=us.prototype.Sa,us.prototype.getResponseText=us.prototype.fa,us.prototype.send=us.prototype.da,us.prototype.setWithCredentials=us.prototype.Ka;var Ws=tn.createWebChannelTransport=function(){return new $s},Gs=tn.getStatEventTarget=function(){return zr()},Xs=tn.ErrorCode=Qr,Ys=tn.EventType=Wr,Js=tn.Event=Vr,Zs=tn.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},ea=tn.FetchXmlHttpFactory=ns,ta=tn.WebChannel=Yr,na=tn.XhrIo=us;const ra="@firebase/firestore";class ia{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ia.UNAUTHENTICATED=new ia(null),ia.GOOGLE_CREDENTIALS=new ia("google-credentials-uid"),ia.FIRST_PARTY=new ia("first-party-uid"),ia.MOCK_USER=new ia("mock-user");let sa="9.17.1";const aa=new Ve("@firebase/firestore");function oa(){return aa.logLevel}function la(e){if(aa.logLevel<=Re.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ha);aa.debug(`Firestore (${sa}): ${e}`,...i)}}function ua(e){if(aa.logLevel<=Re.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ha);aa.error(`Firestore (${sa}): ${e}`,...i)}}function ca(e){if(aa.logLevel<=Re.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ha);aa.warn(`Firestore (${sa}): ${e}`,...i)}}function ha(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function da(){const e=`FIRESTORE (${sa}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw ua(e),new Error(e)}function fa(e,t){e||da()}function pa(e,t){return e}const ma={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ga extends Se{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ya{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class va{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ba{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ia.UNAUTHENTICATED)))}shutdown(){}}class wa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Ea{constructor(e){this.t=e,this.currentUser=ia.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new ya;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ya,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{la("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(la("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ya)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(la("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(fa("string"==typeof t.accessToken),new va(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return fa(null===e||"string"==typeof e),new ia(e)}}class Sa{constructor(e,t,n,r){this.h=e,this.l=t,this.m=n,this.g=r,this.type="FirstParty",this.user=ia.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(fa(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Ta{constructor(e,t,n,r){this.h=e,this.l=t,this.m=n,this.g=r}getToken(){return Promise.resolve(new Sa(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable((()=>t(ia.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ka{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _a{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const n=e=>{null!=e.error&&la("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.A;return this.A=e.token,la("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{la("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.T.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.T.getImmediate({optional:!0});e?r(e):la("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(fa("string"==typeof e.token),this.A=e.token,new ka(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ca(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Ia{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Ca(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function xa(e,t){return e<t?-1:e>t?1:0}function Na(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Da{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ga(ma.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ga(ma.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ga(ma.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ga(ma.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Da.fromMillis(Date.now())}static fromDate(e){return Da.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Da(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xa(this.nanoseconds,e.nanoseconds):xa(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Aa{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Aa(e)}static min(){return new Aa(new Da(0,0))}static max(){return new Aa(new Da(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class La{constructor(e,t,n){void 0===t?t=0:t>e.length&&da(),void 0===n?n=e.length-t:n>e.length-t&&da(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===La.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof La?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ra extends La{construct(e,t,n){return new Ra(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new ga(ma.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Ra(e)}static emptyPath(){return new Ra([])}}const Oa=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pa extends La{construct(e,t,n){return new Pa(e,t,n)}static isValidIdentifier(e){return Oa.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pa.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Pa(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ga(ma.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ga(ma.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ga(ma.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new ga(ma.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pa(t)}static emptyPath(){return new Pa([])}}class Ma{constructor(e){this.path=e}static fromPath(e){return new Ma(Ra.fromString(e))}static fromName(e){return new Ma(Ra.fromString(e).popFirst(5))}static empty(){return new Ma(Ra.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ra.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ra.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ma(new Ra(e.slice()))}}class Fa{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Fa.UNKNOWN_ID=-1;function Va(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Aa.fromTimestamp(1e9===r?new Da(n+1,0):new Da(n,r));return new za(i,Ma.empty(),t)}function Ua(e){return new za(e.readTime,e.key,-1)}class za{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new za(Aa.min(),Ma.empty(),-1)}static max(){return new za(Aa.max(),Ma.empty(),-1)}}function Ba(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ma.comparator(e.documentKey,t.documentKey),0!==n?n:xa(e.largestBatchId,t.largestBatchId))}const ja="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $a{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function qa(e){if(e.code!==ma.FAILED_PRECONDITION||e.message!==ja)throw e;la("LocalStore","Unexpectedly lost primary lease")}class Ha{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&da(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ha(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ha?t:Ha.resolve(t)}catch(e){return Ha.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ha.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ha.reject(t)}static resolve(e){return new Ha(((t,n)=>{t(e)}))}static reject(e){return new Ha(((t,n)=>{n(e)}))}static waitFor(e){return new Ha(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Ha.resolve(!1);for(const n of e)t=t.next((e=>e?Ha.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Ha(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Ha(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Ka(e){return"IndexedDbTransactionError"===e.name}class Qa{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ut(e),this.ct=e=>t.writeSequenceNumber(e))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}Qa.at=-1;class Wa{constructor(e,t,n,r,i,s,a,o){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=o}}class Ga{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ga("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ga&&e.projectId===this.projectId&&e.database===this.database}}function Xa(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ya(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ja(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Za(e){return null==e}function eo(e){return 0===e&&1/e==-1/0}function to(e){return"number"==typeof e&&Number.isInteger(e)&&!eo(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class no{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new no(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new no(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xa(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}no.EMPTY_BYTE_STRING=new no("");const ro=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function io(e){if(fa(!!e),"string"==typeof e){let t=0;const n=ro.exec(e);if(fa(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:so(e.seconds),nanos:so(e.nanos)}}function so(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ao(e){return"string"==typeof e?no.fromBase64String(e):no.fromUint8Array(e)}function oo(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function lo(e){const t=e.mapValue.fields.__previous_value__;return oo(t)?lo(t):t}function uo(e){const t=io(e.mapValue.fields.__local_write_time__.timestampValue);return new Da(t.seconds,t.nanos)}const co={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ho(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?oo(e)?4:_o(e)?9007199254740991:10:da()}function fo(e,t){if(e===t)return!0;const n=ho(e);if(n!==ho(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return uo(e).isEqual(uo(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=io(e.timestampValue),r=io(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ao(e.bytesValue).isEqual(ao(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return so(e.geoPointValue.latitude)===so(t.geoPointValue.latitude)&&so(e.geoPointValue.longitude)===so(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return so(e.integerValue)===so(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=so(e.doubleValue),r=so(t.doubleValue);return n===r?eo(n)===eo(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Na(e.arrayValue.values||[],t.arrayValue.values||[],fo);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Xa(n)!==Xa(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!fo(n[i],r[i])))return!1;return!0}(e,t);default:return da()}}function po(e,t){return void 0!==(e.values||[]).find((e=>fo(e,t)))}function mo(e,t){if(e===t)return 0;const n=ho(e),r=ho(t);if(n!==r)return xa(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xa(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=so(e.integerValue||e.doubleValue),r=so(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return go(e.timestampValue,t.timestampValue);case 4:return go(uo(e),uo(t));case 5:return xa(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ao(e),r=ao(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=xa(n[i],r[i]);if(0!==e)return e}return xa(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=xa(so(e.latitude),so(t.latitude));return 0!==n?n:xa(so(e.longitude),so(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=mo(n[i],r[i]);if(e)return e}return xa(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===co.mapValue&&t===co.mapValue)return 0;if(e===co.mapValue)return 1;if(t===co.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=xa(r[a],s[a]);if(0!==e)return e;const t=mo(n[r[a]],i[s[a]]);if(0!==t)return t}return xa(r.length,s.length)}(e.mapValue,t.mapValue);default:throw da()}}function go(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return xa(e,t);const n=io(e),r=io(t),i=xa(n.seconds,r.seconds);return 0!==i?i:xa(n.nanos,r.nanos)}function yo(e){return vo(e)}function vo(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=io(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ao(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ma.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=vo(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${vo(e.fields[i])}`;return n+"}"}(e.mapValue):da();var t,n}function bo(e){return!!e&&"integerValue"in e}function wo(e){return!!e&&"arrayValue"in e}function Eo(e){return!!e&&"nullValue"in e}function So(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function To(e){return!!e&&"mapValue"in e}function ko(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ya(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=ko(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ko(e.arrayValue.values[n]);return t}return Object.assign({},e)}function _o(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Co{constructor(e,t){this.position=e,this.inclusive=t}}function Io(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Ma.comparator(Ma.fromName(a.referenceValue),n.key):mo(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function xo(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!fo(e.position[n],t.position[n]))return!1;return!0}class No{}class Do extends No{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Vo(e,t,n):"array-contains"===t?new jo(e,n):"in"===t?new $o(e,n):"not-in"===t?new qo(e,n):"array-contains-any"===t?new Ho(e,n):new Do(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Uo(e,n):new zo(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(mo(t,this.value)):null!==t&&ho(this.value)===ho(t)&&this.matchesComparison(mo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return da()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ao extends No{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Ao(e,t)}matches(e){return Lo(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt((e=>e.isInequality()));return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Lo(e){return"and"===e.op}function Ro(e){return Oo(e)&&Lo(e)}function Oo(e){for(const t of e.filters)if(t instanceof Ao)return!1;return!0}function Po(e){if(e instanceof Do)return e.field.canonicalString()+e.op.toString()+yo(e.value);if(Ro(e))return e.filters.map((e=>Po(e))).join(",");{const t=e.filters.map((e=>Po(e))).join(",");return`${e.op}(${t})`}}function Mo(e,t){return e instanceof Do?function(e,t){return t instanceof Do&&e.op===t.op&&e.field.isEqual(t.field)&&fo(e.value,t.value)}(e,t):e instanceof Ao?function(e,t){return t instanceof Ao&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Mo(n,t.filters[r])),!0)}(e,t):void da()}function Fo(e){return e instanceof Do?function(e){return`${e.field.canonicalString()} ${e.op} ${yo(e.value)}`}(e):e instanceof Ao?function(e){return e.op.toString()+" {"+e.getFilters().map(Fo).join(" ,")+"}"}(e):"Filter"}class Vo extends Do{constructor(e,t,n){super(e,t,n),this.key=Ma.fromName(n.referenceValue)}matches(e){const t=Ma.comparator(e.key,this.key);return this.matchesComparison(t)}}class Uo extends Do{constructor(e,t){super(e,"in",t),this.keys=Bo("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class zo extends Do{constructor(e,t){super(e,"not-in",t),this.keys=Bo("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Bo(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Ma.fromName(e.referenceValue)))}class jo extends Do{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wo(t)&&po(t.arrayValue,this.value)}}class $o extends Do{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&po(this.value.arrayValue,t)}}class qo extends Do{constructor(e,t){super(e,"not-in",t)}matches(e){if(po(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!po(this.value.arrayValue,t)}}class Ho extends Do{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wo(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>po(this.value.arrayValue,e)))}}class Ko{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Qo(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Wo{constructor(e,t){this.comparator=e,this.root=t||Xo.EMPTY}insert(e,t){return new Wo(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xo.BLACK,null,null))}remove(e){return new Wo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Go(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Go(this.root,e,this.comparator,!1)}getReverseIterator(){return new Go(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Go(this.root,e,this.comparator,!0)}}class Go{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xo{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Xo.RED,this.left=null!=r?r:Xo.EMPTY,this.right=null!=i?i:Xo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Xo(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Xo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Xo.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw da();if(this.right.isRed())throw da();const e=this.left.check();if(e!==this.right.check())throw da();return e+(this.isRed()?0:1)}}Xo.EMPTY=null,Xo.RED=!0,Xo.BLACK=!1,Xo.EMPTY=new class{constructor(){this.size=0}get key(){throw da()}get value(){throw da()}get color(){throw da()}get left(){throw da()}get right(){throw da()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Xo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yo{constructor(e){this.comparator=e,this.data=new Wo(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Jo(this.data.getIterator())}getIteratorFrom(e){return new Jo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Yo))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Yo(this.comparator);return t.data=e,t}}class Jo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Zo{constructor(e){this.fields=e,e.sort(Pa.comparator)}static empty(){return new Zo([])}unionWith(e){let t=new Yo(Pa.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Zo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Na(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class el{constructor(e){this.value=e}static empty(){return new el({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!To(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ko(t)}setAll(e){let t=Pa.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ko(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());To(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];To(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ya(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new el(ko(this.value))}}function tl(e){const t=[];return Ya(e.fields,((e,n)=>{const r=new Pa([e]);if(To(n)){const e=tl(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Zo(t)}class nl{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new nl(e,0,Aa.min(),Aa.min(),Aa.min(),el.empty(),0)}static newFoundDocument(e,t,n,r){return new nl(e,1,t,Aa.min(),n,r,0)}static newNoDocument(e,t){return new nl(e,2,t,Aa.min(),Aa.min(),el.empty(),0)}static newUnknownDocument(e,t){return new nl(e,3,t,Aa.min(),Aa.min(),el.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Aa.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=el.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=el.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Aa.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof nl&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nl(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ft=null}}function il(e){return new rl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function sl(e){const t=pa(e);if(null===t.ft){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Po(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Za(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>yo(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>yo(e))).join(",")),t.ft=e}return t.ft}function al(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Qo(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Mo(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!xo(e.startAt,t.startAt)&&xo(e.endAt,t.endAt)}function ol(e){return Ma.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class ll{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.dt=null,this._t=null,this.startAt,this.endAt}}function ul(e,t,n,r,i,s,a,o){return new ll(e,t,n,r,i,s,a,o)}function cl(e){return new ll(e)}function hl(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function dl(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function fl(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function pl(e){return null!==e.collectionGroup}function ml(e){const t=pa(e);if(null===t.dt){t.dt=[];const e=fl(t),n=dl(t);if(null!==e&&null===n)e.isKeyField()||t.dt.push(new Ko(e)),t.dt.push(new Ko(Pa.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.dt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Ko(Pa.keyField(),e))}}}return t.dt}function gl(e){const t=pa(e);if(!t._t)if("F"===t.limitType)t._t=il(t.path,t.collectionGroup,ml(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of ml(t)){const t="desc"===i.dir?"asc":"desc";e.push(new Ko(i.field,t))}const n=t.endAt?new Co(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Co(t.startAt.position,t.startAt.inclusive):null;t._t=il(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function yl(e,t,n){return new ll(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function vl(e,t){return al(gl(e),gl(t))&&e.limitType===t.limitType}function bl(e){return`${sl(gl(e))}|lt:${e.limitType}`}function wl(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Fo(e))).join(", ")}]`),Za(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>yo(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>yo(e))).join(",")),`Target(${t})`}(gl(e))}; limitType=${e.limitType})`}function El(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ma.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of ml(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Io(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ml(e),t))&&!(e.endAt&&!function(e,t,n){const r=Io(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ml(e),t))}(e,t)}function Sl(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Tl(e){return(t,n)=>{let r=!1;for(const i of ml(e)){const e=kl(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function kl(e,t,n){const r=e.field.isKeyField()?Ma.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?mo(r,i):da()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return da()}}function _l(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eo(t)?"-0":t}}function Cl(e){return{integerValue:""+e}}function Il(e,t){return to(t)?Cl(t):_l(e,t)}class xl{constructor(){this._=void 0}}function Nl(e,t,n){return e instanceof Ll?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Rl?Ol(e,t):e instanceof Pl?Ml(e,t):function(e,t){const n=Al(e,t),r=Vl(n)+Vl(e.gt);return bo(n)&&bo(e.gt)?Cl(r):_l(e.yt,r)}(e,t)}function Dl(e,t,n){return e instanceof Rl?Ol(e,t):e instanceof Pl?Ml(e,t):n}function Al(e,t){return e instanceof Fl?bo(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Ll extends xl{}class Rl extends xl{constructor(e){super(),this.elements=e}}function Ol(e,t){const n=Ul(t);for(const r of e.elements)n.some((e=>fo(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Pl extends xl{constructor(e){super(),this.elements=e}}function Ml(e,t){let n=Ul(t);for(const r of e.elements)n=n.filter((e=>!fo(e,r)));return{arrayValue:{values:n}}}class Fl extends xl{constructor(e,t){super(),this.yt=e,this.gt=t}}function Vl(e){return so(e.integerValue||e.doubleValue)}function Ul(e){return wo(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class zl{constructor(e,t){this.version=e,this.transformResults=t}}class Bl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bl}static exists(e){return new Bl(void 0,e)}static updateTime(e){return new Bl(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jl(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class $l{}function ql(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new eu(e.key,Bl.none()):new Gl(e.key,e.data,Bl.none());{const n=e.data,r=el.empty();let i=new Yo(Pa.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Xl(e.key,r,new Zo(i.toArray()),Bl.none())}}function Hl(e,t,n){e instanceof Gl?function(e,t,n){const r=e.value.clone(),i=Jl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Xl?function(e,t,n){if(!jl(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Jl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Yl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Kl(e,t,n,r){return e instanceof Gl?function(e,t,n,r){if(!jl(e.precondition,t))return n;const i=e.value.clone(),s=Zl(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Xl?function(e,t,n,r){if(!jl(e.precondition,t))return n;const i=Zl(e.fieldTransforms,r,t),s=t.data;return s.setAll(Yl(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return jl(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ql(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Al(r.transform,e||null);null!=i&&(null===n&&(n=el.empty()),n.set(r.field,i))}return n||null}function Wl(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Na(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Rl&&t instanceof Rl||e instanceof Pl&&t instanceof Pl?Na(e.elements,t.elements,fo):e instanceof Fl&&t instanceof Fl?fo(e.gt,t.gt):e instanceof Ll&&t instanceof Ll}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Gl extends $l{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Xl extends $l{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Yl(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Jl(e,t,n){const r=new Map;fa(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Dl(a,o,n[i]))}return r}function Zl(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Nl(e,s,t))}return r}class eu extends $l{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tu extends $l{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nu{constructor(e){this.count=e}}var ru,iu;function su(e){switch(e){default:return da();case ma.CANCELLED:case ma.UNKNOWN:case ma.DEADLINE_EXCEEDED:case ma.RESOURCE_EXHAUSTED:case ma.INTERNAL:case ma.UNAVAILABLE:case ma.UNAUTHENTICATED:return!1;case ma.INVALID_ARGUMENT:case ma.NOT_FOUND:case ma.ALREADY_EXISTS:case ma.PERMISSION_DENIED:case ma.FAILED_PRECONDITION:case ma.ABORTED:case ma.OUT_OF_RANGE:case ma.UNIMPLEMENTED:case ma.DATA_LOSS:return!0}}function au(e){if(void 0===e)return ua("GRPC error has no .code"),ma.UNKNOWN;switch(e){case ru.OK:return ma.OK;case ru.CANCELLED:return ma.CANCELLED;case ru.UNKNOWN:return ma.UNKNOWN;case ru.DEADLINE_EXCEEDED:return ma.DEADLINE_EXCEEDED;case ru.RESOURCE_EXHAUSTED:return ma.RESOURCE_EXHAUSTED;case ru.INTERNAL:return ma.INTERNAL;case ru.UNAVAILABLE:return ma.UNAVAILABLE;case ru.UNAUTHENTICATED:return ma.UNAUTHENTICATED;case ru.INVALID_ARGUMENT:return ma.INVALID_ARGUMENT;case ru.NOT_FOUND:return ma.NOT_FOUND;case ru.ALREADY_EXISTS:return ma.ALREADY_EXISTS;case ru.PERMISSION_DENIED:return ma.PERMISSION_DENIED;case ru.FAILED_PRECONDITION:return ma.FAILED_PRECONDITION;case ru.ABORTED:return ma.ABORTED;case ru.OUT_OF_RANGE:return ma.OUT_OF_RANGE;case ru.UNIMPLEMENTED:return ma.UNIMPLEMENTED;case ru.DATA_LOSS:return ma.DATA_LOSS;default:return da()}}(iu=ru||(ru={}))[iu.OK=0]="OK",iu[iu.CANCELLED=1]="CANCELLED",iu[iu.UNKNOWN=2]="UNKNOWN",iu[iu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",iu[iu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",iu[iu.NOT_FOUND=5]="NOT_FOUND",iu[iu.ALREADY_EXISTS=6]="ALREADY_EXISTS",iu[iu.PERMISSION_DENIED=7]="PERMISSION_DENIED",iu[iu.UNAUTHENTICATED=16]="UNAUTHENTICATED",iu[iu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",iu[iu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",iu[iu.ABORTED=10]="ABORTED",iu[iu.OUT_OF_RANGE=11]="OUT_OF_RANGE",iu[iu.UNIMPLEMENTED=12]="UNIMPLEMENTED",iu[iu.INTERNAL=13]="INTERNAL",iu[iu.UNAVAILABLE=14]="UNAVAILABLE",iu[iu.DATA_LOSS=15]="DATA_LOSS";class ou{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ya(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Ja(this.inner)}size(){return this.innerSize}}const lu=new Wo(Ma.comparator);function uu(){return lu}const cu=new Wo(Ma.comparator);function hu(){let e=cu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function du(e){let t=cu;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function fu(){return mu()}function pu(){return mu()}function mu(){return new ou((e=>e.toString()),((e,t)=>e.isEqual(t)))}const gu=new Wo(Ma.comparator),yu=new Yo(Ma.comparator);function vu(){let e=yu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const bu=new Yo(xa);function wu(){return bu}class Eu{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Su.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Eu(Aa.min(),r,wu(),uu(),vu())}}class Su{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Su(n,t,vu(),vu(),vu())}}class Tu{constructor(e,t,n,r){this.It=e,this.removedTargetIds=t,this.key=n,this.Tt=r}}class ku{constructor(e,t){this.targetId=e,this.Et=t}}class _u{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:no.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Cu{constructor(){this.At=0,this.Rt=Nu(),this.bt=no.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=vu(),t=vu(),n=vu();return this.Rt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:da()}})),new Su(this.bt,this.Pt,e,t,n)}xt(){this.vt=!1,this.Rt=Nu()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Iu{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=uu(),this.qt=xu(),this.Ut=new Yo(xa)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,(t=>{const n=this.Wt(t);switch(e.state){case 0:this.zt(t)&&n.Dt(e.resumeToken);break;case 1:n.Mt(),n.Vt||n.xt(),n.Dt(e.resumeToken);break;case 2:n.Mt(),n.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(n.Ft(),n.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),n.Dt(e.resumeToken));break;default:da()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach(((e,n)=>{this.zt(n)&&t(n)}))}Jt(e){const t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){const e=r.target;if(ol(e))if(0===n){const n=new Ma(e.path);this.Qt(t,n,nl.newNoDocument(n,Aa.min()))}else fa(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach(((n,r)=>{const i=this.Yt(r);if(i){if(n.current&&ol(i.target)){const t=new Ma(i.target.path);null!==this.Lt.get(t)||this.te(r,t)||this.Qt(r,t,nl.newNoDocument(t,e))}n.St&&(t.set(r,n.Ct()),n.xt())}}));let n=vu();this.qt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Yt(e);return!t||2===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Lt.forEach(((t,n)=>n.setReadTime(e)));const r=new Eu(e,t,this.Ut,this.Lt,n);return this.Lt=uu(),this.qt=xu(),this.Ut=new Yo(xa),r}Gt(e,t){if(!this.zt(e))return;const n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,n){if(!this.zt(e))return;const r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new Cu,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Yo(xa),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||la("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new Cu),this.$t.getRemoteKeysForTarget(e).forEach((t=>{this.Qt(e,t,null)}))}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function xu(){return new Wo(Ma.comparator)}function Nu(){return new Wo(Ma.comparator)}const Du={asc:"ASCENDING",desc:"DESCENDING"},Au={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lu={and:"AND",or:"OR"};class Ru{constructor(e,t){this.databaseId=e,this.wt=t}}function Ou(e,t){return e.wt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Pu(e,t){return e.wt?t.toBase64():t.toUint8Array()}function Mu(e,t){return Ou(e,t.toTimestamp())}function Fu(e){return fa(!!e),Aa.fromTimestamp(function(e){const t=io(e);return new Da(t.seconds,t.nanos)}(e))}function Vu(e,t){return function(e){return new Ra(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Uu(e){const t=Ra.fromString(e);return fa(sc(t)),t}function zu(e,t){return Vu(e.databaseId,t.path)}function Bu(e,t){const n=Uu(t);if(n.get(1)!==e.databaseId.projectId)throw new ga(ma.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ga(ma.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ma(Hu(n))}function ju(e,t){return Vu(e.databaseId,t)}function $u(e){const t=Uu(e);return 4===t.length?Ra.emptyPath():Hu(t)}function qu(e){return new Ra(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Hu(e){return fa(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ku(e,t,n){return{name:zu(e,t),fields:n.value.mapValue.fields}}function Qu(e,t){let n;if(t instanceof Gl)n={update:Ku(e,t.key,t.value)};else if(t instanceof eu)n={delete:zu(e,t.key)};else if(t instanceof Xl)n={update:Ku(e,t.key,t.data),updateMask:ic(t.fieldMask)};else{if(!(t instanceof tu))return da();n={verify:zu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Ll)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Rl)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Pl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Fl)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw da()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Mu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:da()}(e,t.precondition)),n}function Wu(e,t){return{documents:[ju(e,t.path)]}}function Gu(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ju(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ju(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return rc(Ao.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:tc(e.field),direction:Ju(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=function(e,t){return e.wt||Za(t)?t:{value:t}}(e,t.limit);var o;return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Xu(e){let t=$u(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){fa(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Yu(e);return t instanceof Ao&&Ro(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map((e=>function(e){return new Ko(nc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Za(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Co(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new Co(n,t)}(n.endAt)),ul(t,i,a,s,o,"F",l,u)}function Yu(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=nc(e.unaryFilter.field);return Do.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=nc(e.unaryFilter.field);return Do.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=nc(e.unaryFilter.field);return Do.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=nc(e.unaryFilter.field);return Do.create(i,"!=",{nullValue:"NULL_VALUE"});default:return da()}}(e):void 0!==e.fieldFilter?function(e){return Do.create(nc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return da()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ao.create(e.compositeFilter.filters.map((e=>Yu(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return da()}}(e.compositeFilter.op))}(e):da()}function Ju(e){return Du[e]}function Zu(e){return Au[e]}function ec(e){return Lu[e]}function tc(e){return{fieldPath:e.canonicalString()}}function nc(e){return Pa.fromServerFormat(e.fieldPath)}function rc(e){return e instanceof Do?function(e){if("=="===e.op){if(So(e.value))return{unaryFilter:{field:tc(e.field),op:"IS_NAN"}};if(Eo(e.value))return{unaryFilter:{field:tc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(So(e.value))return{unaryFilter:{field:tc(e.field),op:"IS_NOT_NAN"}};if(Eo(e.value))return{unaryFilter:{field:tc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tc(e.field),op:Zu(e.op),value:e.value}}}(e):e instanceof Ao?function(e){const t=e.getFilters().map((e=>rc(e)));return 1===t.length?t[0]:{compositeFilter:{op:ec(e.op),filters:t}}}(e):da()}function ic(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function sc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}const ac=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],oc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lc=oc;class uc{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Hl(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Kl(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Kl(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=pu();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=ql(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Aa.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),vu())}isEqual(e){return this.batchId===e.batchId&&Na(this.mutations,e.mutations,((e,t)=>Wl(e,t)))&&Na(this.baseMutations,e.baseMutations,((e,t)=>Wl(e,t)))}}class cc{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){fa(e.mutations.length===n.length);let r=gu;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new cc(e,t,n,r)}}class hc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class dc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Aa.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Aa.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:no.EMPTY_BYTE_STRING;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}withSequenceNumber(e){return new dc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new dc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new dc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class fc{constructor(e){this.ie=e}}function pc(e){const t=Xu({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?yl(t,t.limit,"L"):t}class mc{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(so(e.integerValue));else if("doubleValue"in e){const n=so(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),eo(n)?t.le(0):t.le(n))}else if("timestampValue"in e){const n=e.timestampValue;this.he(t,20),"string"==typeof n?t.fe(n):(t.fe(`${n.seconds||""}`),t.le(n.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(ao(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.he(t,45),t.le(n.latitude||0),t.le(n.longitude||0)}else"mapValue"in e?_o(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):da()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const n=e.fields||{};this.he(t,55);for(const r of Object.keys(n))this.de(r,t),this.ce(n[r],t)}ye(e,t){const n=e.values||[];this.he(t,50);for(const r of n)this.ce(r,t)}me(e,t){this.he(t,37),Ma.fromName(e).path.forEach((e=>{this.he(t,60),this.pe(e,t)}))}he(e,t){e.le(t)}_e(e){e.le(2)}}mc.Ie=new mc;class gc{constructor(){this.Je=new yc}addToCollectionParentIndex(e,t){return this.Je.add(t),Ha.resolve()}getCollectionParents(e,t){return Ha.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return Ha.resolve()}deleteFieldIndex(e,t){return Ha.resolve()}getDocumentsMatchingTarget(e,t){return Ha.resolve(null)}getIndexType(e,t){return Ha.resolve(0)}getFieldIndexes(e,t){return Ha.resolve([])}getNextCollectionGroupToUpdate(e){return Ha.resolve(null)}getMinOffset(e,t){return Ha.resolve(za.min())}getMinOffsetFromCollectionGroup(e,t){return Ha.resolve(za.min())}updateCollectionGroup(e,t,n){return Ha.resolve()}updateIndexEntries(e,t){return Ha.resolve()}}class yc{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Yo(Ra.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Yo(Ra.comparator)).toArray()}}new Uint8Array(0);class vc{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new vc(e,vc.DEFAULT_COLLECTION_PERCENTILE,vc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}vc.DEFAULT_COLLECTION_PERCENTILE=10,vc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vc.DEFAULT=new vc(41943040,vc.DEFAULT_COLLECTION_PERCENTILE,vc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vc.DISABLED=new vc(-1,0,0);class bc{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new bc(0)}static vn(){return new bc(-1)}}class wc{constructor(){this.changes=new ou((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nl.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ha.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ec{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Sc{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Kl(n.mutation,e,Zo.empty(),Da.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,vu()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vu();const r=fu();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=hu();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=fu();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,vu())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=uu();const s=mu(),a=mu();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Xl)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Kl(a.mutation,t,a.mutation.getFieldMask(),Da.now())):s.set(t.key,Zo.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Ec(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=mu();let r=new Wo(((e,t)=>e-t)),i=vu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||Zo.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||vu()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,u=pu();l.forEach((e=>{if(!i.has(e)){const r=ql(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,u))}return Ha.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return Ma.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):pl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Ha.resolve(fu());let a=-1,o=i;return s.next((t=>Ha.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Ha.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,vu()))).next((e=>({batchId:a,changes:du(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ma(t)).next((e=>{let t=hu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=hu();return this.indexManager.getCollectionParents(e,r).next((s=>Ha.forEach(s,(s=>{const a=function(e,t){return new ll(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,nl.newInvalidDocument(r)))}));let n=hu();return e.forEach(((e,i)=>{const s=r.get(e);void 0!==s&&Kl(s.mutation,i,Zo.empty(),Da.now()),El(t,i)&&(n=n.insert(e,i))})),n}))}}class Tc{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Ha.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Fu(n.createTime)}),Ha.resolve()}getNamedQuery(e,t){return Ha.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:pc(e.bundledQuery),readTime:Fu(e.readTime)}}(t)),Ha.resolve()}}class kc{constructor(){this.overlays=new Wo(Ma.comparator),this.es=new Map}getOverlay(e,t){return Ha.resolve(this.overlays.get(t))}getOverlays(e,t){const n=fu();return Ha.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.oe(e,t,r)})),Ha.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.es.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.es.delete(n)),Ha.resolve()}getOverlaysForCollection(e,t,n){const r=fu(),i=t.length+1,s=new Ma(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ha.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Wo(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=fu(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=fu(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Ha.resolve(a)}oe(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new hc(t,n));let i=this.es.get(t);void 0===i&&(i=vu(),this.es.set(t,i)),this.es.set(t,i.add(n.key))}}class _c{constructor(){this.ns=new Yo(Cc.ss),this.rs=new Yo(Cc.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const n=new Cc(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}us(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.cs(new Cc(e,t))}hs(e,t){e.forEach((e=>this.removeReference(e,t)))}ls(e){const t=new Ma(new Ra([])),n=new Cc(t,e),r=new Cc(t,e+1),i=[];return this.rs.forEachInRange([n,r],(e=>{this.cs(e),i.push(e.key)})),i}fs(){this.ns.forEach((e=>this.cs(e)))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Ma(new Ra([])),n=new Cc(t,e),r=new Cc(t,e+1);let i=vu();return this.rs.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Cc(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Cc{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Ma.comparator(e.key,t.key)||xa(e._s,t._s)}static os(e,t){return xa(e._s,t._s)||Ma.comparator(e.key,t.key)}}class Ic{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Yo(Cc.ss)}checkEmpty(e){return Ha.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new uc(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.gs=this.gs.add(new Cc(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ha.resolve(s)}lookupMutationBatch(e,t){return Ha.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ps(n),i=r<0?0:r;return Ha.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ha.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Ha.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Cc(t,0),r=new Cc(t,Number.POSITIVE_INFINITY),i=[];return this.gs.forEachInRange([n,r],(e=>{const t=this.ys(e._s);i.push(t)})),Ha.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Yo(xa);return t.forEach((e=>{const t=new Cc(e,0),r=new Cc(e,Number.POSITIVE_INFINITY);this.gs.forEachInRange([t,r],(e=>{n=n.add(e._s)}))})),Ha.resolve(this.Is(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ma.isDocumentKey(i)||(i=i.child(""));const s=new Cc(new Ma(i),0);let a=new Yo(xa);return this.gs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e._s)),!0)}),s),Ha.resolve(this.Is(a))}Is(e){const t=[];return e.forEach((e=>{const n=this.ys(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){fa(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let n=this.gs;return Ha.forEach(t.mutations,(r=>{const i=new Cc(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.gs=n}))}An(e){}containsKey(e,t){const n=new Cc(t,0),r=this.gs.firstAfterOrEqual(n);return Ha.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ha.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class xc{constructor(e){this.Es=e,this.docs=new Wo(Ma.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ha.resolve(n?n.document.mutableCopy():nl.newInvalidDocument(t))}getEntries(e,t){let n=uu();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():nl.newInvalidDocument(e))})),Ha.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=uu();const s=t.path,a=new Ma(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Ba(Ua(a),n)<=0||(r.has(a.key)||El(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Ha.resolve(i)}getAllFromCollectionGroup(e,t,n,r){da()}As(e,t){return Ha.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Nc(this)}getSize(e){return Ha.resolve(this.size)}}class Nc extends wc{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(n)})),Ha.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Dc{constructor(e){this.persistence=e,this.Rs=new ou((e=>sl(e)),al),this.lastRemoteSnapshotVersion=Aa.min(),this.highestTargetId=0,this.bs=0,this.Ps=new _c,this.targetCount=0,this.vs=bc.Pn()}forEachTarget(e,t){return this.Rs.forEach(((e,n)=>t(n))),Ha.resolve()}getLastRemoteSnapshotVersion(e){return Ha.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ha.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Ha.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),Ha.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new bc(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Ha.resolve()}updateTargetData(e,t){return this.Dn(t),Ha.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Ha.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Rs.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Rs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Ha.waitFor(i).next((()=>r))}getTargetCount(e){return Ha.resolve(this.targetCount)}getTargetData(e,t){const n=this.Rs.get(t)||null;return Ha.resolve(n)}addMatchingKeys(e,t,n){return this.Ps.us(t,n),Ha.resolve()}removeMatchingKeys(e,t,n){this.Ps.hs(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Ha.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Ha.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ps.ds(t);return Ha.resolve(n)}containsKey(e,t){return Ha.resolve(this.Ps.containsKey(t))}}class Ac{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Qa(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Dc(this),this.indexManager=new gc,this.remoteDocumentCache=function(e){return new xc(e)}((e=>this.referenceDelegate.xs(e))),this.yt=new fc(t),this.Ns=new Tc(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Vs[e.toKey()];return n||(n=new Ic(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,n){la("MemoryPersistence","Starting transaction:",e);const r=new Lc(this.Ss.next());return this.referenceDelegate.ks(),n(r).next((e=>this.referenceDelegate.Os(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ms(e,t){return Ha.or(Object.values(this.Vs).map((n=>()=>n.containsKey(e,t))))}}class Lc extends $a{constructor(e){super(),this.currentSequenceNumber=e}}class Rc{constructor(e){this.persistence=e,this.Fs=new _c,this.$s=null}static Bs(e){return new Rc(e)}get Ls(){if(this.$s)return this.$s;throw da()}addReference(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),Ha.resolve()}removeReference(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),Ha.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Ha.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach((e=>this.Ls.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ls.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ha.forEach(this.Ls,(n=>{const r=Ma.fromPath(n);return this.qs(e,r).next((e=>{e||t.removeEntry(r,Aa.min())}))})).next((()=>(this.$s=null,t.apply(e))))}updateLimboDocument(e,t){return this.qs(e,t).next((e=>{e?this.Ls.delete(t.toString()):this.Ls.add(t.toString())}))}xs(e){return 0}qs(e,t){return Ha.or([()=>Ha.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Oc{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Si=n,this.Di=r}static Ci(e,t){let n=vu(),r=vu();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Oc(e,t.fromCache,n,r)}}class Pc{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.ki(e,t).next((i=>i||this.Oi(e,t,r,n))).next((n=>n||this.Mi(e,t)))}ki(e,t){if(hl(t))return Ha.resolve(null);let n=gl(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=yl(t,null,"F"),n=gl(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=vu(...r);return this.Ni.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Fi(t,r);return this.$i(t,s,i,n.readTime)?this.ki(e,yl(t,null,"F")):this.Bi(e,s,t,n)}))))})))))}Oi(e,t,n,r){return hl(t)||r.isEqual(Aa.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((i=>{const s=this.Fi(t,i);return this.$i(t,s,n,r)?this.Mi(e,t):(oa()<=Re.DEBUG&&la("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),wl(t)),this.Bi(e,s,t,Va(r,-1)))}))}Fi(e,t){let n=new Yo(Tl(e));return t.forEach(((t,r)=>{El(e,r)&&(n=n.add(r))})),n}$i(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Mi(e,t){return oa()<=Re.DEBUG&&la("QueryEngine","Using full collection scan to execute query:",wl(t)),this.Ni.getDocumentsMatchingQuery(e,t,za.min())}Bi(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Mc{constructor(e,t,n,r){this.persistence=e,this.Li=t,this.yt=r,this.qi=new Wo(xa),this.Ui=new ou((e=>sl(e)),al),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(n)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sc(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.qi)))}}function Fc(e,t,n,r){return new Mc(e,t,n,r)}async function Vc(e,t){const n=pa(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Qi(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=vu();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({ji:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Uc(e){const t=pa(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Cs.getLastRemoteSnapshotVersion(e)))}function zc(e,t,n){let r=vu(),i=vu();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=uu();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Aa.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):la("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{Wi:r,zi:i}}))}function Bc(e,t){const n=pa(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function jc(e,t){const n=pa(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Cs.getTargetData(e,t).next((i=>i?(r=i,Ha.resolve(r)):n.Cs.allocateTargetId(e).next((i=>(r=new dc(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}async function $c(e,t,n){const r=pa(e),i=r.qi.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Ka(e))throw e;la("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.qi=r.qi.remove(t),r.Ui.delete(i.target)}function qc(e,t,n){const r=pa(e);let i=Aa.min(),s=vu();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=pa(e),i=r.Ui.get(n);return void 0!==i?Ha.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,gl(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Li.getDocumentsMatchingQuery(e,t,n?i:Aa.min(),n?s:vu()))).next((e=>(Hc(r,Sl(t),e),{documents:e,Hi:s})))))}function Hc(e,t,n){let r=e.Ki.get(t)||Aa.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}class Kc{constructor(){this.activeTargetIds=wu()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qc{constructor(){this.Lr=new Kc,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,n){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Kc,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Wc{Ur(e){}shutdown(){}}class Gc{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){la("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){la("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Xc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Yc{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Jc extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.oo=t+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,n,r,i){const s=this.ho(e,t);la("RestConnection","Sending: ",s,n);const a={};return this.lo(a,r,i),this.fo(e,s,a,n).then((e=>(la("RestConnection","Received: ",e),e)),(t=>{throw ca("RestConnection",`${e} failed with error: `,t,"url: ",s,"request:",n),t}))}_o(e,t,n,r,i,s){return this.ao(e,t,n,r,i)}lo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+sa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}ho(e,t){const n=Xc[e];return`${this.oo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,n,r){return new Promise(((i,s)=>{const a=new na;a.setWithCredentials(!0),a.listenOnce(Ys.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Xs.NO_ERROR:const t=a.getResponseJson();la("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Xs.TIMEOUT:la("Connection",'RPC "'+e+'" timed out'),s(new ga(ma.DEADLINE_EXCEEDED,"Request time out"));break;case Xs.HTTP_ERROR:const n=a.getStatus();if(la("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ma).indexOf(t)>=0?t:ma.UNKNOWN}(t.status);s(new ga(e,t.message))}else s(new ga(ma.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new ga(ma.UNAVAILABLE,"Connection failed."));break;default:da()}}finally{la("Connection",'RPC "'+e+'" completed.')}}));const o=JSON.stringify(r);a.send(t,"POST",o,n,15)}))}wo(e,t,n){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Ws(),s=Gs(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new ea({})),this.lo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const o=r.join("");la("Connection","Creating WebChannel: "+o,a);const l=i.createWebChannel(o,a);let u=!1,c=!1;const h=new Yc({Hr:e=>{c?la("Connection","Not sending because WebChannel is closed:",e):(u||(la("Connection","Opening WebChannel transport."),l.open(),u=!0),la("Connection","WebChannel sending:",e),l.send(e))},Jr:()=>l.close()}),d=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return d(l,ta.EventType.OPEN,(()=>{c||la("Connection","WebChannel transport opened.")})),d(l,ta.EventType.CLOSE,(()=>{c||(c=!0,la("Connection","WebChannel transport closed"),h.io())})),d(l,ta.EventType.ERROR,(e=>{c||(c=!0,ca("Connection","WebChannel transport errored:",e),h.io(new ga(ma.UNAVAILABLE,"The operation could not be completed")))})),d(l,ta.EventType.MESSAGE,(e=>{var t;if(!c){const n=e.data[0];fa(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){la("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=ru[e];if(void 0!==t)return au(t)}(e),n=i.message;void 0===t&&(t=ma.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),c=!0,h.io(new ga(t,n)),l.close()}else la("Connection","WebChannel received:",n),h.ro(n)}})),d(s,Js.STAT_EVENT,(e=>{e.stat===Zs.PROXY?la("Connection","Detected buffering proxy"):e.stat===Zs.NOPROXY&&la("Connection","Detected no buffering proxy")})),setTimeout((()=>{h.so()}),0),h}}function Zc(){return"undefined"!=typeof document?document:null}function eh(e){return new Ru(e,!0)}class th{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Hs=e,this.timerId=t,this.mo=n,this.yo=r,this.po=i,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),n=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-n);r>0&&la("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,(()=>(this.Eo=Date.now(),e()))),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class nh{constructor(e,t,n,r,i,s,a,o){this.Hs=e,this.vo=n,this.Vo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new th(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(()=>this.$o())))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,t){this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==e?this.xo.reset():t&&t.code===ma.RESOURCE_EXHAUSTED?(ua(t.toString()),ua("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):t&&t.code===ma.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(t)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.So===t&&this.Go(n,r)}),(t=>{e((()=>{const e=new ga(ma.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Qo(e)}))}))}Go(e,t){const n=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((()=>{n((()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,(()=>(this.ko()&&(this.state=3),Promise.resolve()))),this.listener.Yr())))})),this.stream.Zr((e=>{n((()=>this.Qo(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Oo(){this.state=5,this.xo.Ro((async()=>{this.state=0,this.start()}))}Qo(e){return la("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget((()=>this.So===e?t():(la("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class rh extends nh{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.yt=i}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:da()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.wt?(fa(void 0===t||"string"==typeof t),no.fromBase64String(t||"")):(fa(void 0===t||t instanceof Uint8Array),no.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?ma.UNKNOWN:au(e.code);return new ga(t,e.message||"")}(a);n=new _u(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Bu(e,r.document.name),s=Fu(r.document.updateTime),a=r.document.createTime?Fu(r.document.createTime):Aa.min(),o=new el({mapValue:{fields:r.document.fields}}),l=nl.newFoundDocument(i,s,a,o),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Tu(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Bu(e,r.document),s=r.readTime?Fu(r.readTime):Aa.min(),a=nl.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Tu([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Bu(e,r.document),s=r.removedTargetIds||[];n=new Tu([],s,i,null)}else{if(!("filter"in t))return da();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new nu(r),s=e.targetId;n=new ku(s,i)}}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return Aa.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Aa.min():t.readTime?Fu(t.readTime):Aa.min()}(e);return this.listener.Wo(t,n)}zo(e){const t={};t.database=qu(this.yt),t.addTarget=function(e,t){let n;const r=t.target;return n=ol(r)?{documents:Wu(e,r)}:{query:Gu(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Pu(e,t.resumeToken):t.snapshotVersion.compareTo(Aa.min())>0&&(n.readTime=Ou(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return da()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}Ho(e){const t={};t.database=qu(this.yt),t.removeTarget=e,this.Bo(t)}}class ih extends nh{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.yt=i,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(fa(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function(e,t){return e&&e.length>0?(fa(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Fu(e.updateTime):Fu(t);return n.isEqual(Aa.min())&&(n=Fu(t)),new zl(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Fu(e.commitTime);return this.listener.Zo(n,t)}return fa(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=qu(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Qu(this.yt,e)))};this.Bo(t)}}class sh extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.yt=r,this.nu=!1}su(){if(this.nu)throw new ga(ma.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,n){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,s]=r;return this.connection.ao(e,t,n,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ma.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ga(ma.UNKNOWN,e.toString())}))}_o(e,t,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection._o(e,t,n,s,a,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ma.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ga(ma.UNKNOWN,e.toString())}))}terminate(){this.nu=!0}}class ah{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve()))))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ua(t),this.ou=!1):la("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class oh{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=i,this.mu.Ur((e=>{n.enqueueAndForget((async()=>{gh(this)&&(la("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=pa(e);t._u.add(4),await uh(t),t.gu.set("Unknown"),t._u.delete(4),await lh(t)}(this))}))})),this.gu=new ah(n,r)}}async function lh(e){if(gh(e))for(const t of e.wu)await t(!0)}async function uh(e){for(const t of e.wu)await t(!1)}function ch(e,t){const n=pa(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),mh(n)?ph(n):Oh(n).ko()&&dh(n,t))}function hh(e,t){const n=pa(e),r=Oh(n);n.du.delete(t),r.ko()&&fh(n,t),0===n.du.size&&(r.ko()?r.Fo():gh(n)&&n.gu.set("Unknown"))}function dh(e,t){e.yu.Ot(t.targetId),Oh(e).zo(t)}function fh(e,t){e.yu.Ot(t),Oh(e).Ho(t)}function ph(e){e.yu=new Iu({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>e.du.get(t)||null}),Oh(e).start(),e.gu.uu()}function mh(e){return gh(e)&&!Oh(e).No()&&e.du.size>0}function gh(e){return 0===pa(e)._u.size}function yh(e){e.yu=void 0}async function vh(e){e.du.forEach(((t,n)=>{dh(e,t)}))}async function bh(e,t){yh(e),mh(e)?(e.gu.hu(t),ph(e)):e.gu.set("Unknown")}async function wh(e,t,n){if(e.gu.set("Online"),t instanceof _u&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.du.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.du.delete(r),e.yu.removeTarget(r))}(e,t)}catch(n){la("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Eh(e,n)}else if(t instanceof Tu?e.yu.Kt(t):t instanceof ku?e.yu.Jt(t):e.yu.jt(t),!n.isEqual(Aa.min()))try{const t=await Uc(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.yu.Zt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.du.get(t);if(!n)return;e.du.set(t,n.withResumeToken(no.EMPTY_BYTE_STRING,n.snapshotVersion)),fh(e,t);const r=new dc(n.target,t,1,n.sequenceNumber);dh(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){la("RemoteStore","Failed to raise snapshot:",t),await Eh(e,t)}}async function Eh(e,t,n){if(!Ka(t))throw t;e._u.add(1),await uh(e),e.gu.set("Offline"),n||(n=()=>Uc(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{la("RemoteStore","Retrying IndexedDB access"),await n(),e._u.delete(1),await lh(e)}))}function Sh(e,t){return t().catch((n=>Eh(e,n,t)))}async function Th(e){const t=pa(e),n=Ph(t);let r=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;kh(t);)try{const e=await Bc(t.localStore,r);if(null===e){0===t.fu.length&&n.Fo();break}r=e.batchId,_h(t,e)}catch(e){await Eh(t,e)}Ch(t)&&Ih(t)}function kh(e){return gh(e)&&e.fu.length<10}function _h(e,t){e.fu.push(t);const n=Ph(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function Ch(e){return gh(e)&&!Ph(e).No()&&e.fu.length>0}function Ih(e){Ph(e).start()}async function xh(e){Ph(e).eu()}async function Nh(e){const t=Ph(e);for(const n of e.fu)t.Xo(n.mutations)}async function Dh(e,t,n){const r=e.fu.shift(),i=cc.from(r,t,n);await Sh(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Th(e)}async function Ah(e,t){t&&Ph(e).Yo&&await async function(e,t){if(su(n=t.code)&&n!==ma.ABORTED){const n=e.fu.shift();Ph(e).Mo(),await Sh(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Th(e)}var n}(e,t),Ch(e)&&Ih(e)}async function Lh(e,t){const n=pa(e);n.asyncQueue.verifyOperationInProgress(),la("RemoteStore","RemoteStore received new credentials");const r=gh(n);n._u.add(3),await uh(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n._u.delete(3),await lh(n)}async function Rh(e,t){const n=pa(e);t?(n._u.delete(2),await lh(n)):t||(n._u.add(2),await uh(n),n.gu.set("Unknown"))}function Oh(e){return e.pu||(e.pu=function(e,t,n){const r=pa(e);return r.su(),new rh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:vh.bind(null,e),Zr:bh.bind(null,e),Wo:wh.bind(null,e)}),e.wu.push((async t=>{t?(e.pu.Mo(),mh(e)?ph(e):e.gu.set("Unknown")):(await e.pu.stop(),yh(e))}))),e.pu}function Ph(e){return e.Iu||(e.Iu=function(e,t,n){const r=pa(e);return r.su(),new ih(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:xh.bind(null,e),Zr:Ah.bind(null,e),tu:Nh.bind(null,e),Zo:Dh.bind(null,e)}),e.wu.push((async t=>{t?(e.Iu.Mo(),await Th(e)):(await e.Iu.stop(),e.fu.length>0&&(la("RemoteStore",`Stopping write stream with ${e.fu.length} pending writes`),e.fu=[]))}))),e.Iu}class Mh{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ya,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Mh(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ga(ma.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fh(e,t){if(ua("AsyncQueue",`${t}: ${e}`),Ka(e))return new ga(ma.UNAVAILABLE,`${t}: ${e}`);throw e}class Vh{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ma.comparator(t.key,n.key):(e,t)=>Ma.comparator(e.key,t.key),this.keyedMap=hu(),this.sortedSet=new Wo(this.comparator)}static emptySet(e){return new Vh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Vh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Vh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Uh{constructor(){this.Tu=new Wo(Ma.comparator)}track(e){const t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):da():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class zh{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new zh(e,t,Vh.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Bh{constructor(){this.Au=void 0,this.listeners=[]}}class jh{constructor(){this.queries=new ou((e=>bl(e)),vl),this.onlineState="Unknown",this.Ru=new Set}}async function $h(e,t){const n=pa(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Bh),i)try{s.Au=await n.onListen(r)}catch(e){const n=Fh(e,`Initialization of query '${wl(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.bu(n.onlineState),s.Au&&t.Pu(s.Au)&&Qh(n)}async function qh(e,t){const n=pa(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Hh(e,t){const n=pa(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.Pu(i)&&(r=!0);t.Au=i}}r&&Qh(n)}function Kh(e,t,n){const r=pa(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Qh(e){e.Ru.forEach((e=>{e.next()}))}class Wh{constructor(e,t,n){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=n||{}}Pu(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new zh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){if(e.docChanges.length>0)return!0;const t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}xu(e){e=zh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Gh{constructor(e){this.key=e}}class Xh{constructor(e){this.key=e}}class Yh{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=vu(),this.mutatedKeys=vu(),this.Gu=Tl(e),this.Qu=new Vh(this.Gu)}get ju(){return this.qu}Wu(e,t){const n=t?t.zu:new Uh,r=t?t.Qu:this.Qu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=El(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.Hu(u,c)||(n.track({type:2,doc:c}),f=!0,(o&&this.Gu(c,o)>0||l&&this.Gu(c,l)<0)&&(a=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(o||l)&&(a=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Qu:s,zu:n,$i:a,mutatedKeys:i}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const i=e.zu.Eu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return da()}};return n(e)-n(t)}(e.type,t.type)||this.Gu(e.doc,t.doc))),this.Ju(n);const s=t?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,o=a!==this.Uu;return this.Uu=a,0!==i.length||o?{snapshot:new zh(this.query,e.Qu,r,i,e.mutatedKeys,0===a,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:s}:{Xu:s}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Uh,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach((e=>this.qu=this.qu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.qu=this.qu.delete(e))),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=vu(),this.Qu.forEach((e=>{this.Zu(e.key)&&(this.Ku=this.Ku.add(e.key))}));const t=[];return e.forEach((e=>{this.Ku.has(e)||t.push(new Xh(e))})),this.Ku.forEach((n=>{e.has(n)||t.push(new Gh(n))})),t}tc(e){this.qu=e.Hi,this.Ku=vu();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return zh.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class Jh{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Zh{constructor(e){this.key=e,this.nc=!1}}class ed{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.sc={},this.ic=new ou((e=>bl(e)),vl),this.rc=new Map,this.oc=new Set,this.uc=new Wo(Ma.comparator),this.cc=new Map,this.ac=new _c,this.hc={},this.lc=new Map,this.fc=bc.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}async function td(e,t){const n=bd(e);let r,i;const s=n.ic.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const e=await jc(n.localStore,gl(t));n.isPrimaryClient&&ch(n.remoteStore,e);const s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await nd(n,t,r,"current"===s,e.resumeToken)}return i}async function nd(e,t,n,r,i){e._c=(t,n,r)=>async function(e,t,n,r){let i=t.view.Wu(n);i.$i&&(i=await qc(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Wu(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s);return fd(e,t.targetId,a.Xu),a.snapshot}(e,t,n,r);const s=await qc(e.localStore,t,!0),a=new Yh(t,s.Hi),o=a.Wu(s.documents),l=Su.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=a.applyChanges(o,e.isPrimaryClient,l);fd(e,n,u.Xu);const c=new Jh(t,n,a);return e.ic.set(t,c),e.rc.has(n)?e.rc.get(n).push(t):e.rc.set(n,[t]),u.snapshot}async function rd(e,t){const n=pa(e),r=n.ic.get(t),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter((e=>!vl(e,t)))),void n.ic.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await $c(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),hh(n.remoteStore,r.targetId),hd(n,r.targetId)})).catch(qa)):(hd(n,r.targetId),await $c(n.localStore,r.targetId,!0))}async function id(e,t){const n=pa(e);try{const e=await function(e,t){const n=pa(e),r=t.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Cs.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Cs.addMatchingKeys(e,s.addedDocuments,o))));let u=l.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(o)?u=u.withResumeToken(no.EMPTY_BYTE_STRING,Aa.min()).withLastLimboFreeSnapshotVersion(Aa.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(o,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,s)&&a.push(n.Cs.updateTargetData(e,u))}));let o=uu(),l=vu();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(zc(e,s,t.documentUpdates).next((e=>{o=e.Wi,l=e.zi}))),!r.isEqual(Aa.min())){const t=n.Cs.getLastRemoteSnapshotVersion(e).next((t=>n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return Ha.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.qi=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.cc.get(t);r&&(fa(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.nc=!0:e.modifiedDocuments.size>0?fa(r.nc):e.removedDocuments.size>0&&(fa(r.nc),r.nc=!1))})),await gd(n,e,t)}catch(e){await qa(e)}}function sd(e,t,n){const r=pa(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ic.forEach(((n,r)=>{const i=r.view.bu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=pa(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.bu(t)&&(r=!0)})),r&&Qh(n)}(r.eventManager,t),e.length&&r.sc.Wo(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ad(e,t,n){const r=pa(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.cc.get(t),s=i&&i.key;if(s){let e=new Wo(Ma.comparator);e=e.insert(s,nl.newNoDocument(s,Aa.min()));const n=vu().add(s),i=new Eu(Aa.min(),new Map,new Yo(xa),e,n);await id(r,i),r.uc=r.uc.remove(s),r.cc.delete(t),md(r)}else await $c(r.localStore,t,!1).then((()=>hd(r,t,n))).catch(qa)}async function od(e,t){const n=pa(e),r=t.batch.batchId;try{const e=await function(e,t){const n=pa(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Ha.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);fa(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=vu();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);cd(n,r,null),ud(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gd(n,e)}catch(e){await qa(e)}}async function ld(e,t,n){const r=pa(e);try{const e=await function(e,t){const n=pa(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(fa(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);cd(r,t,n),ud(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await gd(r,e)}catch(n){await qa(n)}}function ud(e,t){(e.lc.get(t)||[]).forEach((e=>{e.resolve()})),e.lc.delete(t)}function cd(e,t,n){const r=pa(e);let i=r.hc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function hd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.rc.get(t))e.ic.delete(r),n&&e.sc.wc(r,n);e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((t=>{e.ac.containsKey(t)||dd(e,t)}))}function dd(e,t){e.oc.delete(t.path.canonicalString());const n=e.uc.get(t);null!==n&&(hh(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),md(e))}function fd(e,t,n){for(const r of n)r instanceof Gh?(e.ac.addReference(r.key,t),pd(e,r)):r instanceof Xh?(la("SyncEngine","Document no longer in limbo: "+r.key),e.ac.removeReference(r.key,t),e.ac.containsKey(r.key)||dd(e,r.key)):da()}function pd(e,t){const n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(la("SyncEngine","New document in limbo: "+n),e.oc.add(r),md(e))}function md(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){const t=e.oc.values().next().value;e.oc.delete(t);const n=new Ma(Ra.fromString(t)),r=e.fc.next();e.cc.set(r,new Zh(n)),e.uc=e.uc.insert(n,r),ch(e.remoteStore,new dc(gl(cl(n.path)),r,2,Qa.at))}}async function gd(e,t,n){const r=pa(e),i=[],s=[],a=[];r.ic.isEmpty()||(r.ic.forEach(((e,o)=>{a.push(r._c(o,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Oc.Ci(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.sc.Wo(i),await async function(e,t){const n=pa(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Ha.forEach(t,(t=>Ha.forEach(t.Si,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Ha.forEach(t.Di,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Ka(e))throw e;la("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.qi.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.qi=n.qi.insert(e,i)}}}(r.localStore,s))}async function yd(e,t){const n=pa(e);if(!n.currentUser.isEqual(t)){la("SyncEngine","User change. New user:",t.toKey());const e=await Vc(n.localStore,t);n.currentUser=t,function(e){e.lc.forEach((e=>{e.forEach((e=>{e.reject(new ga(ma.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await gd(n,e.ji)}}function vd(e,t){const n=pa(e),r=n.cc.get(t);if(r&&r.nc)return vu().add(r.key);{let e=vu();const r=n.rc.get(t);if(!r)return e;for(const t of r){const r=n.ic.get(t);e=e.unionWith(r.view.ju)}return e}}function bd(e){const t=pa(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=id.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ad.bind(null,t),t.sc.Wo=Hh.bind(null,t.eventManager),t.sc.wc=Kh.bind(null,t.eventManager),t}function wd(e){const t=pa(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=od.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ld.bind(null,t),t}class Ed{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=eh(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Fc(this.persistence,new Pc,e.initialUser,this.yt)}yc(e){return new Ac(Rc.Bs,this.yt)}gc(e){return new Qc}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Sd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>sd(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=yd.bind(null,this.syncEngine),await Rh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new jh}createDatastore(e){const t=eh(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Jc(r));var r;return function(e,t,n,r){return new sh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>sd(this.syncEngine,e,0),s=Gc.C()?new Gc:new Wc,new oh(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new ed(e,t,n,r,i,s);return a&&(o.dc=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=pa(e);la("RemoteStore","RemoteStore shutting down."),t._u.add(5),await uh(t),t.mu.shutdown(),t.gu.set("Unknown")}(this.remoteStore)}}function Td(e,t,n){if(!n)throw new ga(ma.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function kd(e){if(!Ma.isDocumentKey(e))throw new ga(ma.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function _d(e){if(Ma.isDocumentKey(e))throw new ga(ma.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Cd(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":da()}function Id(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ga(ma.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cd(e);throw new ga(ma.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}const xd=new Map;class Nd{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ga(ma.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ga(ma.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new ga(ma.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dd{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ga(ma.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ga(ma.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nd(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ba;switch(e.type){case"gapi":const t=e.client;return new Ta(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ga(ma.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=xd.get(e);t&&(la("ComponentProvider","Removing Datastore"),xd.delete(e),t.terminate())}(this),Promise.resolve()}}function Ad(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Id(e,Dd))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&ca("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ia.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new ga(ma.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ia(s)}e._authCredentials=new wa(new va(t,n))}}class Ld{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Od(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ld(this.firestore,e,this._key)}}class Rd{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Rd(this.firestore,e,this._query)}}class Od extends Rd{constructor(e,t,n){super(e,t,cl(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ld(this.firestore,null,new Ma(e))}withConverter(e){return new Od(this.firestore,e,this._path)}}function Pd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ie(e),Td("collection","path",t),e instanceof Dd){const n=Ra.fromString(t,...r);return _d(n),new Od(e,null,n)}{if(!(e instanceof Ld||e instanceof Od))throw new ga(ma.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ra.fromString(t,...r));return _d(n),new Od(e.firestore,null,n)}}function Md(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ie(e),1===arguments.length&&(t=Ia.R()),Td("doc","path",t),e instanceof Dd){const n=Ra.fromString(t,...r);return kd(n),new Ld(e,null,new Ma(n))}{if(!(e instanceof Ld||e instanceof Od))throw new ga(ma.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ra.fromString(t,...r));return kd(n),new Ld(e.firestore,e instanceof Od?e.converter:null,new Ma(n))}}class Fd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):ua("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Vd{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ia.UNAUTHENTICATED,this.clientId=Ia.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{la("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(la("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ga(ma.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ya;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Fh(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Ud(e,t){e.asyncQueue.verifyOperationInProgress(),la("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Vc(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}async function zd(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Bd(e);la("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>Lh(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Lh(t.remoteStore,n))),e.onlineComponents=t}async function Bd(e){return e.offlineComponents||(la("FirestoreClient","Using default OfflineComponentProvider"),await Ud(e,new Ed)),e.offlineComponents}async function jd(e){return e.onlineComponents||(la("FirestoreClient","Using default OnlineComponentProvider"),await zd(e,new Sd)),e.onlineComponents}function $d(e){return jd(e).then((e=>e.syncEngine))}async function qd(e){const t=await jd(e),n=t.eventManager;return n.onListen=td.bind(null,t.syncEngine),n.onUnlisten=rd.bind(null,t.syncEngine),n}function Hd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ya;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Fd({next:n=>{t.enqueueAndForget((()=>qh(e,a))),n.fromCache&&"server"===r.source?i.reject(new ga(ma.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Wh(n,s,{includeMetadataChanges:!0,Nu:!0});return $h(e,a)}(await qd(e),e.asyncQueue,t,n,r))),r.promise}class Kd{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new th(this,"async_queue_retry"),this.Wc=()=>{const e=Zc();e&&la("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.Po()};const e=Zc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=Zc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise((()=>{}));const t=new ya;return this.Hc((()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Lc.push(e),this.Jc())))}async Jc(){if(0!==this.Lc.length){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(pn){if(!Ka(pn))throw pn;la("AsyncQueue","Operation failed with retryable error: "+pn)}this.Lc.length>0&&this.xo.Ro((()=>this.Jc()))}}Hc(e){const t=this.Bc.then((()=>(this.Gc=!0,e().catch((e=>{this.Kc=e,this.Gc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ua("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Gc=!1,e))))));return this.Bc=t,t}enqueueAfterDelay(e,t,n){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const r=Mh.createAndSchedule(this,e,t,n,(e=>this.Yc(e)));return this.Uc.push(r),r}zc(){this.Kc&&da()}verifyOperationInProgress(){}async Xc(){let e;do{e=this.Bc,await e}while(e!==this.Bc)}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then((()=>{this.Uc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()}))}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}class Qd extends Dd{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Kd,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Gd(this),this._firestoreClient.terminate()}}function Wd(e){return e._firestoreClient||Gd(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Gd(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new Wa(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Vd(e._authCredentials,e._appCheckCredentials,e._queue,r)}class Xd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xd(no.fromBase64String(e))}catch(e){throw new ga(ma.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Xd(no.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Yd{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new ga(ma.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pa(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Jd{constructor(e){this._methodName=e}}class Zd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ga(ma.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ga(ma.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xa(this._lat,e._lat)||xa(this._long,e._long)}}const ef=/^__.*__$/;class tf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Xl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gl(e,this.data,t,this.fieldTransforms)}}function nf(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw da()}}class rf{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.yt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.na(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new rf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}ca(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return mf(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(nf(this.sa)&&ef.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class sf{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=n||eh(e)}da(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new rf({sa:e,methodName:t,fa:n,path:Pa.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function af(e){const t=e._freezeSettings(),n=eh(e._databaseId);return new sf(e._databaseId,!!t.ignoreUndefinedProperties,n)}function of(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.da(s.merge||s.mergeFields?2:0,t,n,i);hf("Data must be an object, but it was:",a,r);const o=uf(r,a);let l,u;if(s.merge)l=new Zo(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=df(t,r,n);if(!a.contains(i))throw new ga(ma.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);gf(e,i)||e.push(i)}l=new Zo(e),u=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=a.fieldTransforms;return new tf(new el(o),l,u)}function lf(e,t){if(cf(e=Ie(e)))return hf("Unsupported field value:",t,e),uf(e,t);if(e instanceof Jd)return function(e,t){if(!nf(t.sa))throw t.ha(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.ha(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=lf(i,t.aa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Ie(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Il(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Da.fromDate(e);return{timestampValue:Ou(t.yt,n)}}if(e instanceof Da){const n=new Da(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ou(t.yt,n)}}if(e instanceof Zd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Xd)return{bytesValue:Pu(t.yt,e._byteString)};if(e instanceof Ld){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.ha(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Vu(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha(`Unsupported field value: ${Cd(e)}`)}(e,t)}function uf(e,t){const n={};return Ja(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ya(e,((e,r)=>{const i=lf(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function cf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Da||e instanceof Zd||e instanceof Xd||e instanceof Ld||e instanceof Jd)}function hf(e,t,n){if(!cf(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Cd(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function df(e,t,n){if((t=Ie(t))instanceof Yd)return t._internalPath;if("string"==typeof t)return pf(e,t);throw mf("Field path arguments must be of type string or ",e,!1,void 0,n)}const ff=new RegExp("[~\\*/\\[\\]]");function pf(e,t,n){if(t.search(ff)>=0)throw mf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Yd(...t.split("."))._internalPath}catch(r){throw mf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function mf(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new ga(ma.INVALID_ARGUMENT,o+e+l)}function gf(e,t){return e.some((e=>e.isEqual(t)))}class yf{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ld(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new vf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(bf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class vf extends yf{data(){return super.data()}}function bf(e,t){return"string"==typeof t?pf(e,t):t instanceof Yd?t._internalPath:t._delegate._internalPath}function wf(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ga(ma.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ef{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return so(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw da()}}convertObject(e,t){const n={};return Ya(e.fields,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Zd(so(e.latitude),so(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=lo(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(uo(e));default:return null}}convertTimestamp(e){const t=io(e);return new Da(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ra.fromString(e);fa(sc(n));const r=new Ga(n.get(1),n.get(3)),i=new Ma(n.popFirst(5));return r.isEqual(t)||ua(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Sf(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Tf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kf extends yf{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new _f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(bf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class _f extends kf{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Cf{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Tf(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new _f(this._firestore,this._userDataWriter,n.key,n,new Tf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ga(ma.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new _f(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Tf(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new _f(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Tf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:If(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function If(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return da()}}class xf extends Ef{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ld(this.firestore,null,t)}}function Nf(e,t){return function(e,t){const n=new ya;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=wd(e);try{const e=await function(e,t){const n=pa(e),r=Da.now(),i=t.reduce(((e,t)=>e.add(t.key)),vu());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=uu(),l=vu();return n.Gi.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=Ql(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Xl(e.key,t,tl(t.value.mapValue),Bl.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:du(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.hc[e.currentUser.toKey()];r||(r=new Wo(xa)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(r,e.batchId,n),await gd(r,e.changes),await Th(r.remoteStore)}catch(e){const t=Fh(e,"Failed to persist write");n.reject(t)}}(await $d(e),t,n))),n.promise}(Wd(e),t)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){sa=e}("9.17.1"),Pt(new xe("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new Qd(new Ea(e.getProvider("auth-internal")),new _a(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ga(ma.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ga(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),zt(ra,"3.8.3",e),zt(ra,"3.8.3","esm2017")}();zt("firebase","9.17.1","app");const Df=function(e,t){const n="object"==typeof e?e:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt;const t=Lt.get(e);if(!t&&e===Dt)return Ut();if(!t)throw Ft.create("no-app",{appName:e});return t}(),r="string"==typeof e?e:t||"(default)",i=Mt(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=ve("firestore");e&&Ad(i,...e)}return i}(Ut({apiKey:"AIzaSyDq0EnMGd-6qrcIZ0qUQvKxIDJV5uRvtKs",authDomain:"test-project-559e1.firebaseapp.com",projectId:"test-project-559e1",storageBucket:"test-project-559e1.appspot.com",messagingSenderId:"418042337809",appId:"1:418042337809:web:e05f4adbfb8d9d02286fb0",measurementId:"G-7DTEW2E7PY"})),Af=(e,t)=>{const{payload:n}=t;switch(t.type){case"GET_EXPENSES":return{expenses:n.expenses};case"ADD_EXPENSE":return{expenses:[n.expense,...e.expenses]};case"REMOVE_EXPENSE":return{expenses:e.expenses.filter((e=>e.id!==n.id))};case"UPDATE_EXPENSE":{const t=e.expenses;return t[n.expensePos]=n.expense,{expenses:t}}default:return e}};const Lf=function(){const[e,t]=(0,s.useReducer)(Af,{expenses:[]}),[n,r]=(0,s.useState)(null),i=async()=>{const e=await function(e){e=Id(e,Rd);const t=Id(e.firestore,Qd),n=Wd(t),r=new xf(t);return wf(e._query),Hd(n,e._query).then((n=>new Cf(t,r,e,n)))}(Pd(Df,"expenses")),n=e.docs.map((e=>({id:e.id,...e.data()})));t({type:"GET_EXPENSES",payload:{expenses:n}}),he.success("Expenses retrived successfully.")};return(0,s.useEffect)((()=>{i()}),[]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(te,{}),(0,u.jsx)("h2",{className:"mainHeading",children:"Expense Tracker"}),(0,u.jsxs)("div",{className:"App",children:[(0,u.jsx)(y,{expenses:e.expenses}),(0,u.jsx)(c,{addExpense:async e=>{const n=Pd(Df,"expenses"),r=await function(e,t){const n=Id(e.firestore,Qd),r=Md(e),i=Sf(e.converter,t);return Nf(n,[of(af(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Bl.exists(!1))]).then((()=>r))}(n,e);t({type:"ADD_EXPENSE",payload:{expense:{id:r.id,...e}}}),he.success("Expense added successfully.")},expenseToUpdate:n,updateExpense:async n=>{const r=e.expenses.map((function(e){return e.id})).indexOf(n.id);if(-1===r)return!1;const i=Md(Df,"expenses",n.id);await function(e,t,n){e=Id(e,Ld);const r=Id(e.firestore,Qd),i=Sf(e.converter,t,n);return Nf(r,[of(af(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Bl.none())])}(i,n),t({type:"UPDATE_EXPENSE",payload:{expensePos:r,expense:n}}),he.success("Expense updated successfully.")},resetExpenseToUpdate:()=>{r(null)}}),(0,u.jsx)("div",{className:"expenseContainer",children:(0,u.jsx)(R,{expenses:e.expenses,deleteExpense:async e=>{await function(e){return Nf(Id(e.firestore,Qd),[new eu(e._key,Bl.none())])}(Md(Df,"expenses",e)),t({type:"REMOVE_EXPENSE",payload:{id:e}}),he.success("Expense deleted successfully.")},changeExpenseToUpdate:r})})]})]})},Rf=document.getElementById("root");(0,r.H)(Rf).render((0,u.jsx)("div",{style:{backgroundImage:`url(${i})`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed",height:"100%"},children:(0,u.jsx)(Lf,{})}))})();
//# sourceMappingURL=main.872aa164.js.map